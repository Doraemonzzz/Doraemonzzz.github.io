<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>CS144 Lab0翻译 | Doraemonzzz</title><meta name="keywords" content="CS144"><meta name="author" content="Doraemonzzz"><meta name="copyright" content="Doraemonzzz"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="这里给出CS 144 Lab 0: networking warmup的翻译。 实验资料：  https:&#x2F;&#x2F;www.cnblogs.com&#x2F;kangyupl&#x2F;p&#x2F;stanford_cs144_labs.html https:&#x2F;&#x2F;kangyupl.gitee.io&#x2F;cs144.github.io&#x2F; https:&#x2F;&#x2F;gitee.com&#x2F;kangyupl&#x2F;sponge">
<meta property="og:type" content="article">
<meta property="og:title" content="CS144 Lab0翻译">
<meta property="og:url" content="http://www.doraemonzzz.com/2022/01/30/2022-1-30-CS144-Lab0%E7%BF%BB%E8%AF%91/index.html">
<meta property="og:site_name" content="Doraemonzzz">
<meta property="og:description" content="这里给出CS 144 Lab 0: networking warmup的翻译。 实验资料：  https:&#x2F;&#x2F;www.cnblogs.com&#x2F;kangyupl&#x2F;p&#x2F;stanford_cs144_labs.html https:&#x2F;&#x2F;kangyupl.gitee.io&#x2F;cs144.github.io&#x2F; https:&#x2F;&#x2F;gitee.com&#x2F;kangyupl&#x2F;sponge">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2022-01-30T07:36:00.000Z">
<meta property="article:modified_time" content="2022-01-30T07:37:29.955Z">
<meta property="article:author" content="Doraemonzzz">
<meta property="article:tag" content="CS144">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="https://github.com/Doraemonzzz/md-photo/blob/master/%E5%A4%B4%E5%83%8F.jpg?raw=true"><link rel="canonical" href="http://www.doraemonzzz.com/2022/01/30/2022-1-30-CS144-Lab0%E7%BF%BB%E8%AF%91/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6f00f37f957f0608abb8c571105456f0";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-G-RE4B1LKRZD"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-G-RE4B1LKRZD');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"距离上次更新已经","messageNext":"天了，文章内容可能已经过时。"},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'CS144 Lab0翻译',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-01-30 15:37:29'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="/css/bilibili.css" media="defer" onload="this.media='all'"><meta name="google-site-verification" content="c4v-NmuUZRgl3cvtg9GKswryK1YLaPztd_5M-df5VNI" /><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Doraemonzzz" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src= "/img/loading.gif" data-lazy-src="https://github.com/Doraemonzzz/md-photo/blob/master/%E5%A4%B4%E5%83%8F.jpg?raw=true" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">775</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">76</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-chart-pie"></i><span> 博客统计</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/charts/"><i class="fa-fw far fa-chart-bar"></i><span> 文章统计</span></a></li><li><a class="site-page child" href="/census/"><i class="fa-fw fas fa-chart-area"></i><span> 访问统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/top/"><i class="fa-fw fab fa-hotjar"></i><span> 阅读排行榜</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Doraemonzzz</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-chart-pie"></i><span> 博客统计</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/charts/"><i class="fa-fw far fa-chart-bar"></i><span> 文章统计</span></a></li><li><a class="site-page child" href="/census/"><i class="fa-fw fas fa-chart-area"></i><span> 访问统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/top/"><i class="fa-fw fab fa-hotjar"></i><span> 阅读排行榜</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">CS144 Lab0翻译</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-01-30T07:36:00.000Z" title="发表于 2022-01-30 15:36:00">2022-01-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-01-30T07:37:29.955Z" title="更新于 2022-01-30 15:37:29">2022-01-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/CS144/">CS144</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>18分钟</span></span><span class="post-meta-separator">|</span><span class="leancloud_visitors" id="/2022/01/30/2022-1-30-CS144-Lab0%E7%BF%BB%E8%AF%91/" data-flag-title="CS144 Lab0翻译"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span class="leancloud-visitors-count"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2022/01/30/2022-1-30-CS144-Lab0%E7%BF%BB%E8%AF%91/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2022/01/30/2022-1-30-CS144-Lab0%E7%BF%BB%E8%AF%91/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>这里给出CS 144 Lab 0: networking warmup的翻译。</p>
<p>实验资料：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/kangyupl/p/stanford_cs144_labs.html">https://www.cnblogs.com/kangyupl/p/stanford_cs144_labs.html</a></li>
<li><a target="_blank" rel="noopener" href="https://kangyupl.gitee.io/cs144.github.io/">https://kangyupl.gitee.io/cs144.github.io/</a></li>
<li><a target="_blank" rel="noopener" href="https://gitee.com/kangyupl/sponge">https://gitee.com/kangyupl/sponge</a></li>
</ul>
<span id="more"></span>
<h1 id="实验0：网络热身"><a href="#实验0：网络热身" class="headerlink" title="实验0：网络热身"></a>实验0：网络热身</h1><p>欢迎来到CS144：计算机网络入门。在这个热身实验中，你将在你的计算机上安装Linux，学习如何在互联网上手动执行一些任务，用C++编写一个小程序，在互联网上获取一个网页，并实现（在内存中）网络的一个关键抽象概念：写入器和读取器之间的可靠字节流。我们预计这个热身赛将花费你2到6个小时来完成（未来的实验将花费你更多的时间）。在进入实验之前，最好先阅读整个实验的内容。</p>
<h2 id="0-合作政策"><a href="#0-合作政策" class="headerlink" title="0. 合作政策"></a>0. 合作政策</h2><p><strong>编程作业必须是你自己的工作</strong>：你必须编写你为编程作业提交的所有代码，但我们作为作业的一部分提供给你的代码除外。请不要复制和粘贴来自StackOverflow，GitHub或其他来源的代码。如果你的代码基于你在网上或其他地方找到的样例，请在提交的源代码中的注释中引用URL。</p>
<p><strong>与他人合作</strong>：你不能把你的代码给别人看，也不能看别人的代码，更不能看往年的解决方案。你可以与其他学生讨论作业，但不要抄袭任何人的代码。如果你与其他学生讨论作业，请在你提交的源代码中的注释中列出他们的姓名。请参阅课程管理讲义了解更多详细信息，如果有任何不清楚的地方，请在Piazza上询问。</p>
<p><strong>Piazza</strong>：请随时在Piazza上提问，但请不要发布任何源代码。</p>
<h2 id="1-在你的电脑上设置GNU-Linux"><a href="#1-在你的电脑上设置GNU-Linux" class="headerlink" title="1. 在你的电脑上设置GNU/Linux"></a>1. 在你的电脑上设置GNU/Linux</h2><p>CS144的作业要求使用GNU/Linux操作系统和一个支持C++ 2017标准的最新C++编译器。请在这三个选项中选择一个：</p>
<ol>
<li><p><strong>推荐</strong>：安装CS144的VirtualBox虚拟机映像（说明见<a target="_blank" rel="noopener" href="https://stanford.edu/class/cs144/vm_howto/vm-howto-image.html">https://stanford.edu/class/cs144/vm_howto/vm-howto-image.html</a>）。</p>
</li>
<li><p>运行Ubuntu 18.04 LTS版本，然后运行我们的安装脚本。你可以在你的实际电脑上，在VirtualBox内，或者在EC2或其他虚拟机上进行（详细指南见<a target="_blank" rel="noopener" href="https://stanford.edu/class/cs144/vm howto/vm-howto-iso.html">https://stanford.edu/class/cs144/vm_howto/vm-howto-iso.html</a>）。</p>
</li>
<li>使用另一个GNU/Linux发行版，但要注意你可能会在此过程中遇到障碍，并且需要对它们进行调试。你的代码将在Ubuntu 18.04 LTS和g++ 8.2.0上进行测试，必须在这些条件下正常编译和运行。提示在<a target="_blank" rel="noopener" href="https://stanford.edu/class/cs144/vm_howto/vm-howto-byo.html">https://stanford.edu/class/cs144/vm_howto/vm-howto-byo.html</a>。</li>
</ol>
<h2 id="2-手动联网"><a href="#2-手动联网" class="headerlink" title="2. 手动联网"></a>2. 手动联网</h2><p>让我们开始使用网络。你将手动完成两项任务：检索网页（就像一个网络浏览器）和发送电子邮件（像一个电子邮件客户端）。这两项任务都依赖于一种叫做可靠的双向无序字节流的网络抽象：你将在终端机上输入一串字节，并且最终以相同的顺序将相同的字节序列传递给另一台计算机（服务器）上运行的程序。服务器用它自己的字节序列进行响应，并传递回你的终端。</p>
<h3 id="2-1-获取一个网页"><a href="#2-1-获取一个网页" class="headerlink" title="2.1 获取一个网页"></a>2.1 获取一个网页</h3><ol>
<li><p>在一个网络浏览器中，访问<a target="_blank" rel="noopener" href="http://cs144.keithw.org/hello">http://cs144.keithw.org/hello</a>，并观察结果。</p>
</li>
<li><p>现在，你将用手动做与浏览器相同的事情。</p>
<ul>
<li><p>(a) <strong>在你的虚拟机上</strong>，运行<code>telnet cs144.keithw.org http</code>。这告诉<code>telnet</code>程序在你的计算机和另一台计算机（名为<code>cs144.keithw.org</code>）之间打开一个可靠的字节流，并在该计算机上运行一个特定的服务：“<code>http</code>”服务，即万维网使用的超文本传输协议。（计算机的名称有一个数字对应（104.196.238.229，一个IPv4地址）。服务的名称也是如此（80，一个TCP端口号）。我们稍后会进一步讨论这些问题。）</p>
<p>如果你的计算机已经被正确设置并在互联网上，你会看到： </p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">user@computer:~$ telnet cs144.keithw.org http
Trying <span class="token number">104.196</span>.238.229<span class="token punctuation">..</span>.
Connected to cs144.keithw.org.
Escape character is <span class="token string">'^]'</span><span class="token builtin class-name">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果你需要退出，按住<code>ctrl</code>并按下<code>]</code>，然后输入<code>close</code>。</p>
</li>
<li><p>(b) 输入<code>GET /hello HTTP/1.1</code>。这将告诉服务器URL的路径部分。（从第三个斜线开始的部分。）</p>
</li>
<li><p>(c) 输入<code>Host: cs144.keithw.org</code>。这将告诉服务器URL的主机部分。(<code>http://</code>和第三个斜线之间的部分。) </p>
</li>
<li><p>(d) 再按一次回车键 。这告诉服务器，你已经完成了你的HTTP请求。</p>
</li>
<li><p>(e) 如果一切顺利，你会看到与你的浏览器所看到的相同的响应，前面有HTTP报头信息，告诉浏览器如何解释该响应。</p>
</li>
</ul>
</li>
<li><p><strong>作业</strong>。现在你知道如何手动获取一个网页了，向我们展示你的能力吧! 使用上述技术来获取URL <a target="_blank" rel="noopener" href="http://cs144.keithw.org/lab0/sunetid">http://cs144.keithw.org/lab0/sunetid</a>，用你自己的主要SUNet ID来代替sunetid。你会在<code>X-Your-Code-Is</code>: 报头收到一个秘密代码。保存你的SUNet ID 和代码以包含在你的文章中。</p>
</li>
</ol>
<h3 id="2-2-给自己发送电子邮件"><a href="#2-2-给自己发送电子邮件" class="headerlink" title="2.2 给自己发送电子邮件"></a>2.2 给自己发送电子邮件</h3><p>现在你知道了如何获取网页，现在是时候发送电子邮件了，再次使用可靠的字节流向另一台计算机上运行的服务发送。</p>
<ol>
<li><p><strong>在斯坦福的网络中</strong>，运行<code>telnet smtp-unencrypted.stanford.edu smtp</code>。<br> （如果你不在斯坦福的网络中，请先登录到<code>cardinal.stanford.edu rst</code>，然后运行这些命令)。“smtp”服务指的是简单邮件传输协议，用于发送电子邮件信息。如果一切顺利，你会看到： </p>
 <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">user@computer:~$ telnet smtp-unencrypted.stanford.edu smtp
Trying <span class="token number">171.64</span>.13.18<span class="token punctuation">..</span>.
Connected to smtp-unencrypted.stanford.edu.
Escape character is <span class="token string">'^]'</span><span class="token builtin class-name">.</span>
<span class="token number">220</span> smtp-unencrypted.stanford.edu ESMTP Postfix<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>第一步：确定你的计算机与电子邮件服务器的关系。输入<br> <code>HELO mycomputer.stanford.edu</code>。等待看到“<code>250 smtp-unencrypted.stanford.edu</code>”。</p>
</li>
<li><p>下一步：谁在发送电子邮件？输入<code>MAIL FROM: sunetid@stanford.edu</code>。<br> 用你的SUNet ID替换sunetid。（是的，有可能给出一个假的“from”地址。电子信件有点像邮政部门的真实邮件，因为回信地址的准确性（大部分）取决于信誉系统。在这一点上，回信地址的准确性（大部分）取决于信誉誉系统。请不要滥用这一点!）如果一切顺利，你会看到“<code>250 2.1.0 Ok</code>”。</p>
</li>
<li><p>下一步：谁是收件人？输入<code>RCPT TO: sunetid @stanford.edu</code>。用你的SUNet ID替换sunetid。如果一切顺利，你会看到“<code>250 2.1.5 OK</code>”。</p>
</li>
<li><p>现在是上传电子邮件信息本身的时候了。输入<code>DATA</code>，告诉服务器你准备好开始了。如果一切顺利，你将看到 “<code>354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</code>”。</p>
</li>
<li><p>现在你正在给自己发送一封邮件。首先，开始输入你将在电子邮件客户端中看到的标题。在标题的末尾留一个空行。</p>
  <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">354</span> End data with <span class="token operator">&lt;</span>CR<span class="token operator">></span><span class="token operator">&lt;</span>LF<span class="token operator">></span>.<span class="token operator">&lt;</span>CR<span class="token operator">></span><span class="token operator">&lt;</span>LF<span class="token operator">></span>
From: sunetid@stanford.edu
To: sunetid@stanford.edu
Subject: Hello from CS144 Lab <span class="token number">0</span><span class="token operator">!</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>输入电子邮件的正文——任何你喜欢的内容。完成后，在一行中用一个点结束：<code>.</code>。期待看到类似的内容：“<code>250 2.0.0 Ok: queued</code>”。</p>
</li>
<li><p>输入<code>QUIT</code>，结束与电子邮件服务器的对话。检查你的收件箱和垃圾邮件文件夹，确保你收到了邮件。</p>
</li>
<li><p><strong>作业</strong>。现在你知道如何用手发送电子邮件，向我们展示你的能力。使用上述技术，从你自己那里发送一封邮件，cs144grader@gmail.com。</p>
</li>
</ol>
<h3 id="2-3-监听和连接"><a href="#2-3-监听和连接" class="headerlink" title="2.3 监听和连接"></a>2.3 监听和连接</h3><p>你已经看到了可以用<code>telnet</code>做什么：一个<strong>客户端</strong>程序，它可以向外连接到其他计算机上运行的程序。现在是时候尝试做一个简单的<strong>服务器</strong>了：那种等待客户连接的程序。</p>
<ol>
<li><p>在一个终端窗口中，<strong>在你的虚拟机</strong>上运行<code>netcat -v -l -p 9090</code>。你应该看到：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">user@computer:~$ netcat -v -l -p <span class="token number">9090</span>
Listening on <span class="token punctuation">[</span><span class="token number">0.0</span>.0.0<span class="token punctuation">]</span> <span class="token punctuation">(</span>family <span class="token number">0</span>, port <span class="token number">9090</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>让<code>netcat</code>运行。在另一个终端窗口，运行<code>telnet localhost 9090</code>（也在你的虚拟机上）。</p>
</li>
<li><p>如果一切顺利，<code>netcat</code>将打印出类似于“<code>Connection from localhost 53500 received!</code>” 的内容。</p>
</li>
<li><p>现在试着在<code>netcat</code>（服务器）或<code>telnet</code>（客户端）的任何一个终端窗口中输入信息。<br> 注意，你在一个窗口中输入的任何东西都会出现在另一个窗口中，反之亦然。你必须要输入回车，才能对字节行传输。</p>
</li>
<li><p>在<code>netcat</code>窗口中，通过输入<code>ctrl-C</code>退出该程序。注意，<code>telnet</code>程序也立即退出了。</p>
</li>
</ol>
<h2 id="3-使用操作系统流套接字编写网络程序"><a href="#3-使用操作系统流套接字编写网络程序" class="headerlink" title="3. 使用操作系统流套接字编写网络程序"></a>3. 使用操作系统流套接字编写网络程序</h2><p>在这个热身实验的下一部分，你将编写一个简短的程序，通过互联网获取一个网页。你将利用Linux内核和其他大多数操作系统提供的一个功能：在两个程序之间创建一个可靠的双向无序字节流的能力，一个在你的计算机上运行，另一个在互联网上的另一台计算机上运行（例如，Apache或nginx等Web服务器，或<code>netcat</code>程序）。</p>
<p>这种功能被称为流套接字。对于你的程序和Web服务器来说，该套接字看起来就像一个普通的（文件）描述符（类似于磁盘上的描述符，或者类似于<code>stdin</code>或<code>stdout</code> I/O流）。当两个流套接字连接在一起时，任何写入一个套接字的字节最终都会以同样的顺序从另一台计算机上的另一个套接字出现。</p>
<p>然而，在现实中，互联网并不提供可靠的字节流的服务。相反，互联网真正做的唯一事情是尽最大努力将短的数据片（称为互联网数据报）送到它们的目的地。每个数据报都包含一些元数据（报头），如源地址和目的地址（来自哪台计算机，目标是哪台计算机），以及一些将被传送到目的计算机的有效载荷数据（最多约1,500字节）。</p>
<p>尽管网络试图传递每一个数据报，但在实践中，数据报可能(1)丢失，(2)不按顺序传递，(3)传递时内容被改变，甚至(4)重复传递不止一次。通常情况下，连接两端的操作系统的工作是将”尽力而为的数据报”（互联网提供的抽象概念）变成”可靠的字节流”（应用程序通常想要的抽象概念）。</p>
<p>两台计算机必须合作，以确保流中的每个字节最终都能在其适当的位置上被传递到另一侧的流套接字。他们还必须告诉对方，他们准备从另一台计算机接受多少数据，并确保不发送超过对方愿意接收的数据。所有这些都是通过一个商定的方案完成的，该方案是在1981年制定的，称为传输控制协议，或TCP。</p>
<p>在本实验中，你将简单地使用操作系统对传输控制协议的已有支持。你将编写一个名为”webget “的程序，创建一个TCP流套接字，连接到一个Web服务器，并获取一个页面，这与你在本实验中早先所做的工作很相似。在未来的实验中，你将实现这个抽象概念的另一面，通过自己实现传输控制协议，从不那么可靠的数据报中创建一个可靠的字节流。</p>
<h3 id="3-1-让我们开始吧——获取和构建启动代码"><a href="#3-1-让我们开始吧——获取和构建启动代码" class="headerlink" title="3.1 让我们开始吧——获取和构建启动代码"></a>3.1 让我们开始吧——获取和构建启动代码</h3><ol>
<li><p>实验作业将使用一个名为”Sponge”的启动代码库。<strong>在你的虚拟机上</strong>，运行<code>git clone https://github.com/cs144/sponge</code>来获取实验的源代码。</p>
</li>
<li><p>可选的：请随意将你的仓库备份到一个<strong>私有</strong>的GitHub/GitLab/Bitbucket仓库（例如，使用<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/10065526/github-how-to-make-a-fork-of-public-repository-private">https://stackoverflow.com/questions/10065526/github-how-to-make-a-fork-of-public-repository-private</a>的说明），但请绝对确保你的工作保持私有。</p>
</li>
<li>进入实验0目录：<code>cd sponge</code></li>
<li>创建一个目录来编译实验软件：<code>mkdir build</code></li>
<li>进入build目录：<code>cd build</code></li>
<li>设置build系统：<code>cmake ..</code></li>
<li>编译源代码：<code>make</code>(你可以运行<code>make -j4</code>来使用四个处理器)。</li>
<li>在build目录外，打开并开始编辑<code>writeups/lab0.md</code>。这是你的实验报告的模板，将包括在你提交的报告中。</li>
</ol>
<h3 id="3-2-现代C-：大部分是安全的，但仍然是快速和低级的"><a href="#3-2-现代C-：大部分是安全的，但仍然是快速和低级的" class="headerlink" title="3.2 现代C++：大部分是安全的，但仍然是快速和低级的"></a>3.2 现代C++：大部分是安全的，但仍然是快速和低级的</h3><p>实验作业将以现代C++风格完成，使用最近（2011年）的功能来尽可能安全地编程。这可能与过去要求你写C++的方式不同。关于这种风格的参考，请参见《C++核心指南》（<a target="_blank" rel="noopener" href="http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines">http://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines</a>）。</p>
<p>其基本思想是确保每个对象都被设计成具有尽可能小的公共接口，有大量的内部安全检查，很难被不当使用，并且知道如何清理自己。我们希望避免”配对”操作（例如malloc/free，或new/delete），在这种情况下，配对的后半部分有可能不发生（例如，如果一个函数提前返回或抛出一个异常）。相反，操作发生在对象的构造函数中，而相反的操作发生在析构函数中。这种风格被称为”资源获取即初始化”，或RAII。</p>
<p>特别地，我们希望你能：</p>
<ul>
<li>使用语言文档（<a target="_blank" rel="noopener" href="https://en.cppreference.com">https://en.cppreference.com</a>）作为资源。</li>
<li>永远不要使用<code>malloc()</code>或<code>free()</code>。</li>
<li>永远不要使用<code>new</code>或<code>delete</code>。</li>
<li>基本上不使用原始指针（*），只在必要时使用”智能”指针（<code>unique_ptr</code>或<code>shared_ptr</code>）（CS144中不需要）。</li>
<li>避免使用模板、线程、锁和虚函数（CS144中不需要）。</li>
<li>避免使用C风格的字符串（<code>char *str</code>）或字符串函数（<code>strlen(), strcpy()</code>）。这些都很容易出错，使用<code>std::string</code>代替。</li>
<li>不要使用C语言风格的转换（例如，<code>(FILE *)x</code>）。如果有必要，请使用C++ <code>static_cast</code>（在CS144中一般不需要）。</li>
<li>倾向于通过<code>const</code>引用传递函数参数（例如：<code>const Address &amp; address</code>）。</li>
<li>使每个变量成为<code>const</code>，除非它需要被改变。</li>
<li>使每个方法成为<code>const</code>，除非它需要改变对象。</li>
<li>避免使用全局变量，给每个变量以尽可能小的范围。</li>
<li>在提交作业之前，请运行<code>make</code>格式来规范编码风格。</li>
</ul>
<p><strong>关于使用Git</strong>：实验以Git（版本控制）仓库的形式发布——这是一种记录修改、检查版本以帮助调试和跟踪源代码来源的方式。请在工作中经常进行小规模的提交，并使用提交信息来确定哪些地方发生了变化以及为什么会发生变化。柏拉图式的理想情形是，每一次提交都应该进行编译，并且应该稳定地朝着越来越多的测试通过方向发展。做出小的提交有助于调试（如果每次提交都能编译，并且提交信息能清楚地描述该提交所做的事情，那么调试就会容易得多），并且通过记录你在一段时间内的稳定进展来防止你被指控作弊——这是一项有用的技能，对包括软件开发在内的任何职业都有帮助。评卷人将会阅读你的提交信息，以了解你是如何开发实验的解决方案的。如果你还没有学会如何使用Git，请在CS144的办公时间内寻求帮助或查阅教程（如<a target="_blank" rel="noopener" href="https://guides.github.com/introduction/git-handbook">https://guides.github.com/introduction/git-handbook</a>）。最后，我们欢迎你将你的代码存储在GitHub、GitLab、Bitbucket等的私人仓库中，但请确保你的代码不被公众访问。</p>
<h3 id="3-3-阅读Sponge文档"><a href="#3-3-阅读Sponge文档" class="headerlink" title="3.3 阅读Sponge文档"></a>3.3 阅读Sponge文档</h3><p>为了支持这种编程风格，Sponge的类将操作系统函数（可以从C语言中调用）封装在现代的C++中。</p>
<ol>
<li>使用一个网络浏览器，在<a target="_blank" rel="noopener" href="https://cs144.github.io/doc/lab0">https://cs144.github.io/doc/lab0</a>，阅读一下启动代码的文档。</li>
<li>特别注意<a target="_blank" rel="noopener" href="https://cs144.github.io/doc/lab0/class_file_descriptor.html">FileDescriptor</a>、<a target="_blank" rel="noopener" href="https://cs144.github.io/doc/lab0/class_socket.html">Socket</a>、<a target="_blank" rel="noopener" href="https://cs144.github.io/doc/lab0/class_t_c_p_socket.html">TCPSocket</a>和<a target="_blank" rel="noopener" href="https://cs144.github.io/doc/lab0/class_address.html">Address</a>类的文档。(注意<code>Socket</code>是<code>FileDescriptor</code>的一种类型，而<code>TCPSocket</code>是<code>Socket</code>的一种类型）。</li>
<li>现在，阅读<code>libsponge/util</code>目录下描述这些类的接口的头文件：<code>file_descriptor.hh</code>，<code>socket.hh</code>，和<code>address.hh</code>。</li>
</ol>
<h3 id="3-4-编写webget"><a href="#3-4-编写webget" class="headerlink" title="3.4 编写webget"></a>3.4 编写webget</h3><p>现在是实现<code>webget</code>的时候了，这是一个利用操作系统的TCP支持和流套接字抽象在互联网上获取网页的程序——就像你在本实验室早些时候手动完成的那样。</p>
<ol>
<li><p>在<code>build</code>目录中，用文本编辑器或IDE打开<code>../apps/webget.cc</code>。</p>
</li>
<li><p>在<code>get_URL</code>函数中，删去以”<code>// Your code here</code>“为开头的注释。</p>
</li>
<li><p>按照本章所述实现简单的Web客户端，使用你之前使用的HTTP（Web）请求的格式。使用<code>TCPSocket</code>和<code>Address</code>类。</p>
</li>
<li><p>提示：</p>
<ul>
<li>请注意，在HTTP中，每一行都必须以”\r\n”结束（只使用”\n”或<code>endl</code>是不够的）。</li>
<li>当你完成了向套接字写请求时，通过结束你的出站字节流（从你的套接字到服务器的套接字的字节流）告诉服务器你已经完成了请求。你可以通过调用一个参数为<code>SHUT_WR</code>的<code>TCPSocket</code>的<code>shutdown</code>方法来做到这一点。作为回应，服务器将向你发送一个回复，然后将结束它自己的出站字节流（从服务器的套接字到你的套接字的字节流）。你会发现传入字节流已经结束了，因为当你读完来自服务器的整个字节流后，你的套接字将到达”EOF”（结束）。(如果你不关闭你的出站字节流，服务器将等待一段时间，让你发送更多的请求，并且也不会结束它的出站字节流）。</li>
<li>确保从服务器上读取并打印所有的输出，直到套接字到达”EOF”（结束）——单次调用<code>read</code>是不够的。</li>
<li>我们预计你需要写十行左右的代码。</li>
</ul>
</li>
<li><p>通过运行<code>make</code>来编译你的程序。如果你看到一个错误信息，你需要在继续之前将其删除。</p>
</li>
<li><p>通过运行<code>./apps/webget cs144.keithw.org /hello</code>来测试你的程序。这与你在网络浏览器中访问<code>http://cs144.keithw.org/hello</code>时看到的情况相比，有什么不同？它与第2.1节的结果相比如何？请用你喜欢的任何http URL进行实验或测试吧!</p>
</li>
<li><p>当它看起来工作正常时，运行<code>make check webget</code>来运行自动测试。在实现<code>get_URL</code>功能之前，你应该能看到以下情况：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>/1 Test <span class="token comment">#25: lab0_webget ......................***Failed 0.00 sec</span>
Function called: get_URL<span class="token punctuation">(</span>cs144.keithw.org, /hasher/xyzzy<span class="token punctuation">)</span>.
Warning: get_URL<span class="token punctuation">(</span><span class="token punctuation">)</span> has not been implemented yet.
ERROR: webget returned output that did not match the test's expectations<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>完成作业后，你会看到：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">4</span>/4 Test <span class="token comment">#4: lab0_webget ...................... Passed 0.14 sec</span>
<span class="token number">100</span>% tests passed, <span class="token number">0</span> tests failed out of <span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>评分程序会用不同的主机名和路径来运行你的<code>webget</code>程序，而不是用<code>make check</code>来运行，所以要确保它不会只用<code>make check</code>使用的主机名和路径。</p>
</li>
</ol>
<h2 id="4-内存中可靠的字节流"><a href="#4-内存中可靠的字节流" class="headerlink" title="4. 内存中可靠的字节流"></a>4. 内存中可靠的字节流</h2><p>到现在为止，你已经看到了可靠的无序字节流的抽象是如何在互联网上进行通信的，尽管互联网本身只提供”不可靠的”数据报的服务。</p>
<p>为了完成本周的实验，你将在一台计算机的内存中实现一个提供这种抽象的对象。(你可能在CS 110中做过类似的事情。) 字节在”输入”端写入，并可以从”输出”端以同样的顺序读取。字节流是无限的：写者可以结束输入，然后就不能再写了。当读者读到流的末端时，它将到达”EOF”（结束），不再有更多的字节可以被读取。</p>
<p>你的字节流也会受到控制：它被初始化时有一个特定的容量：它愿意在自己的内存中存储的最大字节数。字节流将限制写者可以写多长的字符串，以确保字节流不会超过其存储容量。当读取器读取字节并将其从流中耗尽时，写入器被允许写入更多。</p>
<p>你的字节流是在单线程中使用的——你不必担心并发的写者/读者、锁定或竞争条件。</p>
<p>下面是writer程序的接口：</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">// Write a string of bytes into the stream. Write as many</span>
<span class="token comment">// as will fit, and return the number of bytes written.</span>
<span class="token class-name">size_t</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token operator">::</span>string <span class="token operator">&amp;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Returns the number of additional bytes that the stream has space for</span>
<span class="token class-name">size_t</span> <span class="token function">remaining_capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

<span class="token comment">// Signal that the byte stream has reached its ending</span>
<span class="token keyword">void</span> <span class="token function">end_input</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Indicate that the stream suffered an error</span>
<span class="token keyword">void</span> <span class="token function">set_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这是reader的接口：</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">// Peek at next "len" bytes of the stream</span>
std<span class="token operator">::</span>string <span class="token function">peek_output</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">size_t</span> len<span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>

<span class="token comment">// Remove "len" bytes from the buffer</span>
<span class="token keyword">void</span> <span class="token function">pop_output</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">size_t</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Read (i.e., copy and then pop) the next "len" bytes of the stream</span>
std<span class="token operator">::</span>string <span class="token function">read</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">size_t</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>

bool <span class="token function">input_ended</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span> <span class="token comment">// `true` if the stream input has ended</span>
bool <span class="token function">eof</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span> <span class="token comment">// `true` if the output has reached the ending</span>
bool <span class="token function">error</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span> <span class="token comment">// `true` if the stream has suffered an error</span>
<span class="token class-name">size_t</span> <span class="token function">buffer_size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span> <span class="token comment">// the maximum amount that can currently be peeked/read</span>
bool <span class="token function">buffer_empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span> <span class="token comment">// `true` if the buffer is empty</span>
<span class="token class-name">size_t</span> <span class="token function">bytes_written</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span> <span class="token comment">// Total number of bytes written</span>
<span class="token class-name">size_t</span> <span class="token function">bytes_read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span> <span class="token comment">// Total number of bytes popped</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>请打开<code>libsponge/byte_stream.hh</code>和<code>libsponge/byte_stream.cc</code>，并实现一个提供此接口的对象。当你开发你的字节流实现时，你可以用<code>make check lab0</code>运行自动测试。</p>
<p>接下来是什么？在接下来的四个星期里，你将实现一个系统来提供同样的接口，但不再是在内存中，而是通过一个不可靠的网络，即传输控制协议。</p>
<h2 id="5-提交"><a href="#5-提交" class="headerlink" title="5. 提交"></a>5. 提交</h2><ol>
<li>在你的提交中，请只对<code>webget.cc</code>和<code>libsponge</code>顶层的源代码（<code>byte_stream.hh</code>和<code>byte_stream.cc</code>）进行修改。请不要修改<code>libsponge/util</code>中的任何测试或帮助程序。</li>
<li>在提交任何作业之前，请按顺序运行这些：<ul>
<li>(a) <code>make format</code>(使编码风格正常化)</li>
<li>(b) <code>make</code>(确保代码可以编译)</li>
<li>(c) <code>make check_lab0</code>(确保自动测试通过)</li>
</ul>
</li>
<li>完成编辑<code>writeups/lab0.md</code>，写上这项作业花了你多少时间，以及任何其他评论。</li>
<li>准备提交时，请按照<a target="_blank" rel="noopener" href="https://cs144.github.io/submit">https://cs144.github.io/submit</a>。在提交之前，请确保你已经提交了你想要的一切。</li>
<li>如有任何问题，请在周二晚上的实验课上尽快告知课程负责人，或在Piazza上发表问题。祝您好运，欢迎来到CS144!</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Doraemonzzz</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.doraemonzzz.com/2022/01/30/2022-1-30-CS144-Lab0%E7%BF%BB%E8%AF%91/">http://www.doraemonzzz.com/2022/01/30/2022-1-30-CS144-Lab0%E7%BF%BB%E8%AF%91/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.doraemonzzz.com" target="_blank">Doraemonzzz</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/CS144/">CS144</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/01/30/2022-1-30-CS144-Lab1%E7%BF%BB%E8%AF%91/"><img class="prev-cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">CS144 Lab1翻译</div></div></a></div><div class="next-post pull-right"><a href="/2022/01/22/2022-1-22-CS144-Lab6/"><img class="next-cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">CS144 Lab6</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/12/12/2021-12-12-CS144-Lab0/" title="CS144 Lab0"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-12</div><div class="title">CS144 Lab0</div></div></a></div><div><a href="/2021/12/12/2021-12-12-CS144-实验环境配置/" title="CS144 实验环境配置"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-12</div><div class="title">CS144 实验环境配置</div></div></a></div><div><a href="/2021/12/27/2021-12-27-CS144-Lab2/" title="CS144 Lab2"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-27</div><div class="title">CS144 Lab2</div></div></a></div><div><a href="/2022/01/22/2022-1-22-CS144-Lab4/" title="CS144 Lab4"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-22</div><div class="title">CS144 Lab4</div></div></a></div><div><a href="/2022/01/22/2022-1-22-CS144-Lab5/" title="CS144 Lab5"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-22</div><div class="title">CS144 Lab5</div></div></a></div><div><a href="/2022/01/22/2022-1-22-CS144-Lab6/" title="CS144 Lab6"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-22</div><div class="title">CS144 Lab6</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Livere</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNDcxOS8xMTI1Ng=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src= "/img/loading.gif" data-lazy-src="https://github.com/Doraemonzzz/md-photo/blob/master/%E5%A4%B4%E5%83%8F.jpg?raw=true" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Doraemonzzz</div><div class="author-info__description">个人博客，主要记录有关机器学习，数学以及计算机科学的笔记</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">775</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">76</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Doraemonzzz"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Doraemonzzz" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/doraemon_zzz@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/291079982" target="_blank" title="Bilibili"><i class="iconfont icon-bilibili"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title=""><i class="fa fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">暂无公告</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E9%AA%8C0%EF%BC%9A%E7%BD%91%E7%BB%9C%E7%83%AD%E8%BA%AB"><span class="toc-number">1.</span> <span class="toc-text">实验0：网络热身</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#0-%E5%90%88%E4%BD%9C%E6%94%BF%E7%AD%96"><span class="toc-number">1.1.</span> <span class="toc-text">0. 合作政策</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9C%A8%E4%BD%A0%E7%9A%84%E7%94%B5%E8%84%91%E4%B8%8A%E8%AE%BE%E7%BD%AEGNU-Linux"><span class="toc-number">1.2.</span> <span class="toc-text">1. 在你的电脑上设置GNU&#x2F;Linux</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%89%8B%E5%8A%A8%E8%81%94%E7%BD%91"><span class="toc-number">1.3.</span> <span class="toc-text">2. 手动联网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E8%8E%B7%E5%8F%96%E4%B8%80%E4%B8%AA%E7%BD%91%E9%A1%B5"><span class="toc-number">1.3.1.</span> <span class="toc-text">2.1 获取一个网页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E7%BB%99%E8%87%AA%E5%B7%B1%E5%8F%91%E9%80%81%E7%94%B5%E5%AD%90%E9%82%AE%E4%BB%B6"><span class="toc-number">1.3.2.</span> <span class="toc-text">2.2 给自己发送电子邮件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E7%9B%91%E5%90%AC%E5%92%8C%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.3.3.</span> <span class="toc-text">2.3 监听和连接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%B5%81%E5%A5%97%E6%8E%A5%E5%AD%97%E7%BC%96%E5%86%99%E7%BD%91%E7%BB%9C%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.4.</span> <span class="toc-text">3. 使用操作系统流套接字编写网络程序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E8%AE%A9%E6%88%91%E4%BB%AC%E5%BC%80%E5%A7%8B%E5%90%A7%E2%80%94%E2%80%94%E8%8E%B7%E5%8F%96%E5%92%8C%E6%9E%84%E5%BB%BA%E5%90%AF%E5%8A%A8%E4%BB%A3%E7%A0%81"><span class="toc-number">1.4.1.</span> <span class="toc-text">3.1 让我们开始吧——获取和构建启动代码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E7%8E%B0%E4%BB%A3C-%EF%BC%9A%E5%A4%A7%E9%83%A8%E5%88%86%E6%98%AF%E5%AE%89%E5%85%A8%E7%9A%84%EF%BC%8C%E4%BD%86%E4%BB%8D%E7%84%B6%E6%98%AF%E5%BF%AB%E9%80%9F%E5%92%8C%E4%BD%8E%E7%BA%A7%E7%9A%84"><span class="toc-number">1.4.2.</span> <span class="toc-text">3.2 现代C++：大部分是安全的，但仍然是快速和低级的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E9%98%85%E8%AF%BBSponge%E6%96%87%E6%A1%A3"><span class="toc-number">1.4.3.</span> <span class="toc-text">3.3 阅读Sponge文档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E7%BC%96%E5%86%99webget"><span class="toc-number">1.4.4.</span> <span class="toc-text">3.4 编写webget</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%86%85%E5%AD%98%E4%B8%AD%E5%8F%AF%E9%9D%A0%E7%9A%84%E5%AD%97%E8%8A%82%E6%B5%81"><span class="toc-number">1.5.</span> <span class="toc-text">4. 内存中可靠的字节流</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E6%8F%90%E4%BA%A4"><span class="toc-number">1.6.</span> <span class="toc-text">5. 提交</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/12/12/2022-12-12-Deep-Learning-Systems-HW4/" title="Deep Learning Systems HW4"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Deep Learning Systems HW4"/></a><div class="content"><a class="title" href="/2022/12/12/2022-12-12-Deep-Learning-Systems-HW4/" title="Deep Learning Systems HW4">Deep Learning Systems HW4</a><time datetime="2022-12-12T14:05:00.000Z" title="发表于 2022-12-12 22:05:00">2022-12-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/11/2022-12-11-Deep-Learning-Systems-HW3/" title="Deep Learning Systems HW3"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Deep Learning Systems HW3"/></a><div class="content"><a class="title" href="/2022/12/11/2022-12-11-Deep-Learning-Systems-HW3/" title="Deep Learning Systems HW3">Deep Learning Systems HW3</a><time datetime="2022-12-11T04:41:00.000Z" title="发表于 2022-12-11 12:41:00">2022-12-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/08/2022-12-8-GAMES101-HW8/" title="GAMES101 HW8"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="GAMES101 HW8"/></a><div class="content"><a class="title" href="/2022/12/08/2022-12-8-GAMES101-HW8/" title="GAMES101 HW8">GAMES101 HW8</a><time datetime="2022-12-08T14:28:00.000Z" title="发表于 2022-12-08 22:28:00">2022-12-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/08/2022-12-8-GAMES101-HW7/" title="GAMES101 HW7"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="GAMES101 HW7"/></a><div class="content"><a class="title" href="/2022/12/08/2022-12-8-GAMES101-HW7/" title="GAMES101 HW7">GAMES101 HW7</a><time datetime="2022-12-08T13:57:00.000Z" title="发表于 2022-12-08 21:57:00">2022-12-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/01/2022-12-1-GAMES102-Lecture-22-Animation-(cont.)/" title="GAMES102 Lecture 22 Animation (cont.)"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="GAMES102 Lecture 22 Animation (cont.)"/></a><div class="content"><a class="title" href="/2022/12/01/2022-12-1-GAMES102-Lecture-22-Animation-(cont.)/" title="GAMES102 Lecture 22 Animation (cont.)">GAMES102 Lecture 22 Animation (cont.)</a><time datetime="2022-12-01T13:47:00.000Z" title="发表于 2022-12-01 21:47:00">2022-12-01</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2022 By Doraemonzzz</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.25
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'IpnmxCW9CvYWIXbol5QXsegX-MdYXbMMI',
      appKey: 'w57DVCdbxcyB1TYYagMIMJIU',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: true
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Valine' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>