<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>博客主题配置 | Doraemonzzz</title><meta name="keywords" content="博客配置"><meta name="author" content="Doraemonzzz"><meta name="copyright" content="Doraemonzzz"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="记录博客主题的配置以及相关优化。">
<meta property="og:type" content="article">
<meta property="og:title" content="博客主题配置">
<meta property="og:url" content="http://www.doraemonzzz.com/2021/06/12/2021-6-12-%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/index.html">
<meta property="og:site_name" content="Doraemonzzz">
<meta property="og:description" content="记录博客主题的配置以及相关优化。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2021-06-12T01:32:28.000Z">
<meta property="article:modified_time" content="2021-06-13T17:29:37.503Z">
<meta property="article:author" content="Doraemonzzz">
<meta property="article:tag" content="博客配置">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="https://github.com/Doraemonzzz/md-photo/blob/master/%E5%A4%B4%E5%83%8F.jpg?raw=true"><link rel="canonical" href="http://www.doraemonzzz.com/2021/06/12/2021-6-12-%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6f00f37f957f0608abb8c571105456f0";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-G-RE4B1LKRZD"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-G-RE4B1LKRZD');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"距离上次更新已经","messageNext":"天了，文章内容可能已经过时。"},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '博客主题配置',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-06-14 01:29:37'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="/css/bilibili.css" media="defer" onload="this.media='all'"><meta name="google-site-verification" content="c4v-NmuUZRgl3cvtg9GKswryK1YLaPztd_5M-df5VNI" /><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Doraemonzzz" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src= "/img/loading.gif" data-lazy-src="https://github.com/Doraemonzzz/md-photo/blob/master/%E5%A4%B4%E5%83%8F.jpg?raw=true" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">621</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">62</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">24</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-chart-pie"></i><span> 博客统计</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/charts/"><i class="fa-fw far fa-chart-bar"></i><span> 文章统计</span></a></li><li><a class="site-page child" href="/census/"><i class="fa-fw fas fa-chart-area"></i><span> 访问统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/top/"><i class="fa-fw fab fa-hotjar"></i><span> 阅读排行榜</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Doraemonzzz</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-chart-pie"></i><span> 博客统计</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/charts/"><i class="fa-fw far fa-chart-bar"></i><span> 文章统计</span></a></li><li><a class="site-page child" href="/census/"><i class="fa-fw fas fa-chart-area"></i><span> 访问统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/top/"><i class="fa-fw fab fa-hotjar"></i><span> 阅读排行榜</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">博客主题配置</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-06-12T01:32:28.000Z" title="发表于 2021-06-12 09:32:28">2021-06-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-06-13T17:29:37.503Z" title="更新于 2021-06-14 01:29:37">2021-06-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Hexo/">Hexo</a></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/">博客配置</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>29分钟</span></span><span class="post-meta-separator">|</span><span class="leancloud_visitors" id="/2021/06/12/2021-6-12-%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/" data-flag-title="博客主题配置"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span class="leancloud-visitors-count"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2021/06/12/2021-6-12-%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2021/06/12/2021-6-12-%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>博客也写了三年多了，一共用了三个主题，这里记录下碰到的问题以及相关主题优化，防止之后再换主题时碰到相同问题。</p>
<p>参考资料：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.eurkon.com/post/61763977.html">https://blog.eurkon.com/post/61763977.html</a></li>
<li><a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/ea33ab97/#%E4%BE%8B%E5%AD%90">https://butterfly.js.org/posts/ea33ab97/#%E4%BE%8B%E5%AD%90</a></li>
</ul>
<span id="more"></span>
<p>备注：</p>
<p>所有npm命令均在博客根目录下进行。</p>
<h1 id="next"><a href="#next" class="headerlink" title="next"></a>next</h1><p>使用时间：2018/3 -&gt; 2021/1</p>
<p>链接：<a target="_blank" rel="noopener" href="https://github.com/theme-next/hexo-theme-next">https://github.com/theme-next/hexo-theme-next</a></p>
<p>第一款使用的主题，选择的原因是简洁加上使用者多，总体来说体验很好，不过当时一个数学公式显示的bug调了我半年，最后更换主题的原因是感觉过于简洁。</p>
<h1 id="matery"><a href="#matery" class="headerlink" title="matery"></a>matery</h1><p>使用时间：2021/1 -&gt; 2021/6</p>
<p>链接：<a target="_blank" rel="noopener" href="https://github.com/blinkfox/hexo-theme-matery">https://github.com/blinkfox/hexo-theme-matery</a></p>
<p>第二款使用的主题，确实比next好看不少，有一些方面有点小bug。</p>
<h1 id="butterfly"><a href="#butterfly" class="headerlink" title="butterfly"></a>butterfly</h1><p>使用时间：2021/16 -&gt; 至今</p>
<p>链接：<a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">https://github.com/jerryc127/hexo-theme-butterfly</a></p>
<p>到目前为止碰到的最好看的主题，而且个性化配置较多，使用下来bug比较少，所以选择了这款，后续会记录下配置相关。</p>
<h2 id="待配置项"><a href="#待配置项" class="headerlink" title="待配置项"></a>待配置项</h2><ul>
<li>&#9744;  文章封面。</li>
<li>&#9744;  主页以外的顶部图配置。</li>
<li>&#9744;  增加友链。</li>
<li>&#9744;  网站副标题。</li>
<li>&#9744;  标签外挂。</li>
<li>&#9744;  pwa</li>
<li>&#9744;  hexo-submit-urls-to-search-engine持续集成配置。<ul>
<li><a target="_blank" rel="noopener" href="https://cjh0613.com/20200603HexoSubmitUrlsToSearchEngine.html">https://cjh0613.com/20200603HexoSubmitUrlsToSearchEngine.html</a></li>
</ul>
</li>
<li>&#9744;  补充书籍，游戏相关信息<ul>
<li><a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/4073eda/#%E9%9B%BB%E5%BD%B1">https://butterfly.js.org/posts/4073eda/#%E9%9B%BB%E5%BD%B1</a></li>
</ul>
</li>
<li>&#9744;  阅读排行榜。</li>
<li>&#9745; 全球访问统计。</li>
<li>&#9745; 文章日历以及雷达图。</li>
<li>&#9744; 研究<a target="_blank" rel="noopener" href="https://github.com/blinkfox/hexo-theme-matery">matery</a>的图标生成方式。<ul>
<li>themes\hexo-theme-matery\layout_widget</li>
</ul>
</li>
<li>&#9744; 判断博客是否被搜索引擎收录。</li>
<li></li>
</ul>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><ul>
<li>&#9744;  来必力评论缺失，目前只能显示<a target="_blank" rel="noopener" href="https://doraemonzzz.com/about/">https://doraemonzzz.com/about/</a></li>
</ul>
<h2 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h2><h3 id="menu"><a href="#menu" class="headerlink" title="menu"></a>menu</h3><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>
  <span class="token comment"># 中文</span>
  <span class="token key atrule">首页</span><span class="token punctuation">:</span> / <span class="token punctuation">|</span><span class="token punctuation">|</span> fas fa<span class="token punctuation">-</span>home
  <span class="token key atrule">时间轴</span><span class="token punctuation">:</span> /archives/ <span class="token punctuation">|</span><span class="token punctuation">|</span> fas fa<span class="token punctuation">-</span>archive
  <span class="token key atrule">标签</span><span class="token punctuation">:</span> /tags/ <span class="token punctuation">|</span><span class="token punctuation">|</span> fas fa<span class="token punctuation">-</span>tags
  <span class="token key atrule">分类</span><span class="token punctuation">:</span> /categories/ <span class="token punctuation">|</span><span class="token punctuation">|</span> fas fa<span class="token punctuation">-</span>folder<span class="token punctuation">-</span>open
  <span class="token key atrule">博客统计||fas fa-chart-pie</span><span class="token punctuation">:</span>
    <span class="token key atrule">文章统计</span><span class="token punctuation">:</span> /charts/ <span class="token punctuation">|</span><span class="token punctuation">|</span> far fa<span class="token punctuation">-</span>chart<span class="token punctuation">-</span>bar
    <span class="token key atrule">访问统计</span><span class="token punctuation">:</span> /census/ <span class="token punctuation">|</span><span class="token punctuation">|</span> fas fa<span class="token punctuation">-</span>chart<span class="token punctuation">-</span>area
  <span class="token key atrule">阅读排行榜</span><span class="token punctuation">:</span> /top/ <span class="token punctuation">|</span><span class="token punctuation">|</span> fab fa<span class="token punctuation">-</span>hotjar
  <span class="token key atrule">娱乐||fa fa-heartbeat</span><span class="token punctuation">:</span>
    <span class="token key atrule">电影</span><span class="token punctuation">:</span> /movies/ <span class="token punctuation">|</span><span class="token punctuation">|</span> fas fa<span class="token punctuation">-</span>video
  <span class="token key atrule">关于我</span><span class="token punctuation">:</span> /about/ <span class="token punctuation">|</span><span class="token punctuation">|</span> fas fa<span class="token punctuation">-</span>heart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>大部分都是基本的，这里介绍下博客统计以及阅读排行榜的配置。</p>
<h4 id="博客统计"><a href="#博客统计" class="headerlink" title="博客统计"></a>博客统计</h4><p>安装cheerio：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">npm</span> i cheerio --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h5 id="文章统计"><a href="#文章统计" class="headerlink" title="文章统计"></a>文章统计</h5><p>参考资料：</p>
<p><a target="_blank" rel="noopener" href="https://blog.eurkon.com/post/1213ef82.html">https://blog.eurkon.com/post/1213ef82.html</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/kebi007/article/details/68488694">https://blog.csdn.net/kebi007/article/details/68488694</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/32734591/pie-chart-overlaps-with-legends">https://stackoverflow.com/questions/32734591/pie-chart-overlaps-with-legends</a></p>
<p><a target="_blank" rel="noopener" href="https://cndrew.cn/2020/03/03/calender/#%E5%88%86%E7%B1%BB%E9%9B%B7%E8%BE%BE%E5%9B%BE">https://cndrew.cn/2020/03/03/calender/#%E5%88%86%E7%B1%BB%E9%9B%B7%E8%BE%BE%E5%9B%BE</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/blinkfox/hexo-theme-matery">https://github.com/blinkfox/hexo-theme-matery</a></p>
<p>添加了日历以及雷达图，并对第一份资料做了一些微调，保证标签能完全显示。</p>
<p>路径：</p>
<pre class="line-numbers language-none"><code class="language-none">blog\source\census\index.md:<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>内容：</p>
<pre class="line-numbers language-none"><code class="language-none">---
title: 文章统计
date: 2021-06-09 02:04:50
---

&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;echarts@4.7.0&#x2F;dist&#x2F;echarts.min.js&quot;&gt;&lt;&#x2F;script&gt;

&lt;!-- 文章发布日历 --&gt;
&lt;div id&#x3D;&quot;post-calendar&quot; style&#x3D;&quot;border-radius: 8px; height: 250px; padding: 10px;&quot;&gt;&lt;&#x2F;div&gt;
&lt;!-- 文章发布时间统计图 --&gt;
&lt;div id&#x3D;&quot;posts-chart&quot; style&#x3D;&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;&gt;&lt;&#x2F;div&gt;
&lt;!-- 文章标签统计图 --&gt;
&lt;div id&#x3D;&quot;tags-chart&quot; data-length&#x3D;&quot;10&quot; style&#x3D;&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;&gt;&lt;&#x2F;div&gt;
&lt;!-- 文章分类统计图 --&gt;
&lt;div id&#x3D;&quot;categories-chart&quot; style&#x3D;&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;&gt;&lt;&#x2F;div&gt;
&lt;!-- 文章分类雷达图 --&gt;
&lt;div id&#x3D;&quot;categories-radar&quot; style&#x3D;&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;&gt;&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>新建的文件路径：</p>
<pre class="line-numbers language-none"><code class="language-none">\blog\themes\butterfly\scripts\helpers\charts.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>在tagsChart中添加如下内容，</p>
<pre class="line-numbers language-diff" data-language="diff"><code class="language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> grid: &#123;
</span><span class="token prefix inserted">+</span><span class="token line">     left: '10%',
</span><span class="token prefix inserted">+</span><span class="token line">     bottom:'25%'
</span><span class="token prefix inserted">+</span><span class="token line"> &#125;,</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>最后得到：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">tagsChart</span> <span class="token punctuation">(</span><span class="token parameter">len</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> tagArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  hexo<span class="token punctuation">.</span>locals<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'tags'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    tagArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> name<span class="token operator">:</span> tag<span class="token punctuation">.</span>name<span class="token punctuation">,</span> value<span class="token operator">:</span> tag<span class="token punctuation">.</span>length <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
  tagArr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> b<span class="token punctuation">.</span>value <span class="token operator">-</span> a<span class="token punctuation">.</span>value <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

  <span class="token keyword">let</span> dataLength <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>tagArr<span class="token punctuation">.</span>length<span class="token punctuation">,</span> len<span class="token punctuation">)</span> <span class="token operator">||</span> tagArr<span class="token punctuation">.</span>length
  <span class="token keyword">const</span> tagNameArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">const</span> tagCountArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dataLength<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    tagNameArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>tagArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    tagCountArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>tagArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">const</span> tagNameArrJson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>tagNameArr<span class="token punctuation">)</span>
  <span class="token keyword">const</span> tagCountArrJson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>tagCountArr<span class="token punctuation">)</span>

  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
  &lt;script id="tagsChart">
    var color = '#000'
    var tagsChart = echarts.init(document.getElementById('tags-chart'), 'light');
    var tagsOption = &#123;
      textStyle: &#123;
        color: color
      &#125;,
      title: &#123;
        text: 'Top </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>dataLength<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> 标签统计图',
        x: 'center',
        textStyle: &#123;
          color: color
        &#125;
      &#125;,
      tooltip: &#123;&#125;,
      xAxis: &#123;
        name: '标签',
        type: 'category',
        axisTick: &#123;
          show: false
        &#125;,
        axisLine: &#123;
          show: true,
          lineStyle: &#123;
            color: color
          &#125;
        &#125;,
        axisLabel: &#123;
            interval:0,
            rotate:20
         &#125;,
        grid: &#123;
          left: '10%',
          bottom:'25%'
          &#125;,
        data: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>tagNameArrJson<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">
      &#125;,
      yAxis: &#123;
        name: '文章篇数',
        type: 'value',
        splitLine: &#123;
          show: false
        &#125;,
        axisTick: &#123;
          show: false
        &#125;,
        axisLine: &#123;
          show: true,
          lineStyle: &#123;
            color: color
          &#125;
        &#125;
      &#125;,
      series: [&#123;
        name: '文章篇数',
        type: 'bar',
        data: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>tagCountArrJson<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">,
        itemStyle: &#123;
          opacity: 1,
          color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;
            offset: 0,
            color: 'rgba(128, 255, 165)'
          &#125;,
          &#123;
            offset: 1,
            color: 'rgba(1, 191, 236)'
          &#125;])
        &#125;,
        emphasis: &#123;
          itemStyle: &#123;
            opacity: 1,
            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [&#123;
              offset: 0,
              color: 'rgba(128, 255, 195)'
            &#125;,
            &#123;
              offset: 1,
              color: 'rgba(1, 211, 255)'
            &#125;])
          &#125;
        &#125;,
        markLine: &#123;
          data: [&#123;
            name: '平均值',
            type: 'average'
          &#125;]
        &#125;
      &#125;]
    &#125;;
    tagsChart.setOption(tagsOption);
    window.addEventListener("resize", () => &#123; 
      tagsChart.resize();
    &#125;);
    &lt;/script></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>修改categoriesChart，删除lengend的原因是我的标签较多，图表会产生重叠：</p>
<pre class="line-numbers language-diff" data-language="diff"><code class="language-diff"><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> showLegendSymbol: false,
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> legend: &#123;
</span><span class="token prefix deleted">-</span><span class="token line"> top: 'bottom',
</span><span class="token prefix deleted">-</span><span class="token line"> 	textStyle: &#123;
</span><span class="token prefix deleted">-</span><span class="token line"> 	color: color
</span><span class="token prefix deleted">-</span><span class="token line"> 	&#125;
</span><span class="token prefix deleted">-</span><span class="token line"> &#125;,</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h6 id="文章日历"><a href="#文章日历" class="headerlink" title="文章日历"></a>文章日历</h6><p>代码修改自matery主题，路径为</p>
<pre class="line-numbers language-none"><code class="language-none">hexo-theme-matery\layout\_widget<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>新增的文件路径：</p>
<pre class="line-numbers language-none"><code class="language-none">\blog\themes\butterfly\scripts\helpers\calendar.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>内容：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> cheerio <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'cheerio'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> moment <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'moment'</span><span class="token punctuation">)</span>

hexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>filter<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'after_render:html'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">locals</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> $ <span class="token operator">=</span> cheerio<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>locals<span class="token punctuation">)</span>
  <span class="token keyword">const</span> post <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#post-calendar'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> htmlEncode <span class="token operator">=</span> <span class="token boolean">false</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>post<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>post<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#postCalender'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>post<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'data-encode'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'true'</span><span class="token punctuation">)</span> htmlEncode <span class="token operator">=</span> <span class="token boolean">true</span>
      post<span class="token punctuation">.</span><span class="token function">after</span><span class="token punctuation">(</span><span class="token function">postCalender</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>htmlEncode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> $<span class="token punctuation">.</span><span class="token function">root</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&amp;amp;#</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;#'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> $<span class="token punctuation">.</span><span class="token function">root</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> locals
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">postCalender</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> nameMap <span class="token operator">=</span> <span class="token string">'cn'</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> titleText <span class="token operator">=</span> <span class="token string">'文章日历'</span><span class="token punctuation">;</span>

    <span class="token comment">// calculate range.</span>
    <span class="token keyword">var</span> startDate <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'years'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> endDate <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> rangeArr <span class="token operator">=</span> <span class="token string">'["'</span> <span class="token operator">+</span> startDate<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'", "'</span> <span class="token operator">+</span> endDate<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'"]'</span><span class="token punctuation">;</span>

    <span class="token comment">// post and count map.</span>
    <span class="token keyword">var</span> dateMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    hexo<span class="token punctuation">.</span>locals<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'posts'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">post</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> date <span class="token operator">=</span> post<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> count <span class="token operator">=</span> dateMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
        dateMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span> count <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> count <span class="token operator">==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// loop the data for the current year, generating the number of post per day</span>
    <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> datePosts <span class="token operator">=</span> <span class="token string">'['</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> dayTime <span class="token operator">=</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> time <span class="token operator">=</span> startDate<span class="token punctuation">;</span> time <span class="token operator">&lt;=</span> endDate<span class="token punctuation">;</span> time <span class="token operator">+=</span> dayTime<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> date <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        datePosts <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span> datePosts <span class="token operator">+</span> <span class="token string">'["'</span> <span class="token operator">:</span> datePosts <span class="token operator">+</span> <span class="token string">', ["'</span><span class="token punctuation">)</span> <span class="token operator">+</span> date <span class="token operator">+</span> <span class="token string">'", '</span>
                <span class="token operator">+</span> <span class="token punctuation">(</span>dateMap<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token operator">?</span> dateMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">']'</span><span class="token punctuation">;</span>
        i<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    datePosts <span class="token operator">+=</span> <span class="token string">']'</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;script id="postCalender">
        var myChart = echarts.init(document.getElementById('post-calendar'));
        console.log(1);
        console.log('</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>titleText<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">');
        var option = &#123;
            title: &#123;
                top: 0,
                text: '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>titleText<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">',
                left: 'center',
                textStyle: &#123;
                    color: '#3C4858'
                &#125;
            &#125;,
            tooltip: &#123;
                padding: 10,
                backgroundColor: '#555',
                borderColor: '#777',
                borderWidth: 1,
                formatter: function (obj) &#123;
                    var value = obj.value;
                    return '&lt;div style="font-size: 14px;">' + value[0] + '：' + value[1] + '&lt;/div>';
                &#125;
            &#125;,
            visualMap: &#123;
                show: true,
                showLabel: true,
                categories: [0, 1, 2, 3, ">=4"],
                calculable: true,
                inRange: &#123;
                    symbol: 'rect',
                    color: ['#ebedf0', '#c6e48b', '#7bc96f', '#239a3b', '#196127']
                &#125;,
                itemWidth: 12,
                itemHeight: 12,
                orient: 'horizontal',
                left: 'center',
                bottom: 40
            &#125;,
            calendar: [&#123;
                left: 'center',
                range: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>rangeArr<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">,
                cellSize: [13, 13],
                splitLine: &#123;
                    show: false
                &#125;,
                itemStyle: &#123;
                    color: '#196127',
                    borderColor: '#fff',
                    borderWidth: 2
                &#125;,
                yearLabel: &#123;
                    show: false
                &#125;,
                monthLabel: &#123;
                    nameMap: '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>nameMap<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">',
                    fontSize: 11
                &#125;,
                dayLabel: &#123;
                    formatter: '&#123;start&#125;  1st',
                    nameMap: '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>nameMap<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">',
                    fontSize: 11
                &#125;
            &#125;],
            series: [&#123;
                type: 'heatmap',
                coordinateSystem: 'calendar',
                calendarIndex: 0,
                data: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>datePosts<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">
            &#125;]

        &#125;;
        myChart.setOption(option);
        window.addEventListener("resize", () => &#123; 
            myChart.resize();
        &#125;);
        &lt;/script></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h6 id="文章分类雷达图"><a href="#文章分类雷达图" class="headerlink" title="文章分类雷达图"></a>文章分类雷达图</h6><p>代码修改自matery主题，路径为</p>
<pre class="line-numbers language-none"><code class="language-none">hexo-theme-matery\layout\_widget\category-radar.ejs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>新增的文件路径：</p>
<pre class="line-numbers language-none"><code class="language-none">\blog\themes\butterfly\scripts\helpers\radar.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>内容为：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> cheerio <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'cheerio'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> moment <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'moment'</span><span class="token punctuation">)</span>

hexo<span class="token punctuation">.</span>extend<span class="token punctuation">.</span>filter<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">'after_render:html'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">locals</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> $ <span class="token operator">=</span> cheerio<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>locals<span class="token punctuation">)</span>
  <span class="token keyword">const</span> category <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#categories-radar'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> htmlEncode <span class="token operator">=</span> <span class="token boolean">false</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>category<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>category<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#categoriesRadar'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>category<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'data-encode'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'true'</span><span class="token punctuation">)</span> htmlEncode <span class="token operator">=</span> <span class="token boolean">true</span>
      category<span class="token punctuation">.</span><span class="token function">after</span><span class="token punctuation">(</span><span class="token function">categoriesRadar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>htmlEncode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> $<span class="token punctuation">.</span><span class="token function">root</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&amp;amp;#</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;#'</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> $<span class="token punctuation">.</span><span class="token function">root</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> locals
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">categoriesRadar</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> categories <span class="token operator">=</span> hexo<span class="token punctuation">.</span>locals<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'categories'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Find the maximum and average values of the post categories.</span>
    <span class="token keyword">var</span> radarValueArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    categories<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">category</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        radarValueArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>category<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> radarValueArr<span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> radarValueArr<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Calculate the data needed for the radar chart.</span>
    <span class="token keyword">var</span> indicatorArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    categories<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">category</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        indicatorArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string">'name'</span><span class="token operator">:</span> category<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">'max'</span><span class="token operator">:</span> max<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> indicatorData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>indicatorArr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> radarValueData <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>radarValueArr<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;script id="categoriesRadar">
        var radarChart = echarts.init(document.getElementById('categories-radar'));
        var option = &#123;
            title: &#123;
                left: 'center',
                text: '文章分类雷达图',
                textStyle: &#123;
                    // fontWeight: 500,
                    // fontSize: 22
                    color: '#000'
                &#125;
            &#125;,
            tooltip: &#123;&#125;,
            radar: &#123;
                name: &#123;
                    textStyle: &#123;
                        color: '#3C4858'
                    &#125;
                &#125;,
                indicator: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>indicatorData<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">,
                nameGap: 5,
                // center: ['50%','55%'],
                center: ['50%','50%'],
                radius: '66%',
                left: 'center'
            &#125;,
            series: [&#123;
                type: 'radar',
                color: ['#3ecf8e'],
                itemStyle: &#123;normal: &#123;areaStyle: &#123;type: 'default'&#125;&#125;&#125;,
                data : [
                    &#123;
                        value : </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>radarValueData<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">,
                        name : 'test'
                    &#125;
                ]
            &#125;]
        &#125;;

        radarChart.setOption(option);
        &lt;/script></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="访问统计"><a href="#访问统计" class="headerlink" title="访问统计"></a>访问统计</h5><p>参考资料：</p>
<p><a target="_blank" rel="noopener" href="https://blog.eurkon.com/post/ef1da941.html">https://blog.eurkon.com/post/ef1da941.html</a></p>
<p><a target="_blank" rel="noopener" href="https://akilar.top/posts/1f9c68c9/">https://akilar.top/posts/1f9c68c9/</a></p>
<p>基本按照上述资料进行了配置，增加了全球访客图，变更如下：</p>
<p>路径：</p>
<pre class="line-numbers language-none"><code class="language-none">blog\source\census\index.md:<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>内容：</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/echarts@4.7.0/dist/echarts.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/echarts@4.7.0/map/js/china.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!-- 中国地图 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/echarts@4.7.0/map/js/world.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!-- 世界地图 --></span>

<span class="token comment">&lt;!-- 全球访问地图 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>world-map-chart<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- 全国访问地图 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map-chart<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- 访问趋势 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>trends-chart<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!-- 访问来源 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sources-chart<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">border-radius</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span> <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>路径</p>
<pre class="line-numbers language-none"><code class="language-none">blog\themes\butterfly\scripts\helpers\census.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>内容：</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">const cheerio = require('cheerio')
const moment = require('moment')
const fetch = require('node-fetch')

hexo.extend.filter.register('after_render:html', async function (locals) &#123;
  const $ = cheerio.load(locals)
  const worldmap = $('#world-map-chart')
  const map = $('#map-chart')
  const trend = $('#trends-chart')
  const source = $('#sources-chart')
  let htmlEncode = false

  if (worldmap.length > 0 || map.length > 0 || trend.length > 0 || source.length > 0) &#123;
    if (worldmap.length > 0 &amp;&amp; $('#worldMapChart').length === 0) &#123;
      worldmap.after(await worldMapChart())
    &#125;
    if (map.length > 0 &amp;&amp; $('#mapChart').length === 0) &#123;
      map.after(await mapChart())
    &#125;
    if (trend.length > 0 &amp;&amp; $('#trendsChart').length === 0) &#123;
      trend.after(await trendsChart())
    &#125;
    if (source.length > 0 &amp;&amp; $('#sourcesChart').length === 0) &#123;
      source.after(await sourcesChart())
    &#125;

<span class="token code keyword">    if (htmlEncode) &#123;
      return $.root().html().replace(/&amp;amp;#/g, '&amp;#')
    &#125; else &#123;
      return $.root().html()
    &#125;</span>
  &#125; else &#123;
    return locals
  &#125;
&#125;, 15)

const startDate = '20000101' // 开始日期
const endDate = moment().format('YYYYMMDD') // 结束日期
const accessToken = '' // accessToken
const siteId = '' // 网址id
const dataUrl = 'https://openapi.baidu.com/rest/2.0/tongji/report/getData?access_token=' + accessToken + '&amp;site_id=' + siteId;
// const dataUrl = 'https://baidu-tongji-api-lime.vercel.app/api?access_token=' + accessToken + '&amp;site_id=' + siteId;
const metrics = 'pv_count' // 统计访问次数 PV 填写 'pv_count'，统计访客数 UV 填写 'visitor_count'，二选一
const metricsName = (metrics === 'pv_count' ? '访问次数' : (metrics === 'visitor_count' ? '访客数' : ''))

// 全球访问地图
function worldMapChart () &#123;
  return new Promise(resolve => &#123;
    const paramUrl = '&amp;start_date=' + startDate + '&amp;end_date=' + endDate + '&amp;metrics=' + metrics + '&amp;method=visit/world/a';
    fetch(dataUrl + paramUrl)
      .then(data => data.json())
      .then(data => &#123;
        monthArr = [];
        let mapName = data.result.items[0]
        let mapValue = data.result.items[1]
        let mapArr = []
        let max = mapValue<span class="token url">[<span class="token content">0</span>][<span class="token variable">0</span>]</span>
        for (let i = 0; i &lt; mapName.length; i++) &#123;
          mapArr.push(&#123; name: mapName<span class="token url">[<span class="token content">i</span>][<span class="token variable">0</span>]</span>.name, value: mapValue<span class="token url">[<span class="token content">i</span>][<span class="token variable">0</span>]</span> &#125;)
        &#125;
        const mapArrJson = JSON.stringify(mapArr)
        resolve(`
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>worldMapChart<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
            <span class="token keyword">var</span> color <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-theme'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'light'</span> <span class="token operator">?</span> <span class="token string">'#4c4948'</span> <span class="token operator">:</span> <span class="token string">'rgba(255,255,255,0.7)'</span>
            <span class="token keyword">var</span> worldmap <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'world-map-chart'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> worldmapOption <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
              title<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                text<span class="token operator">:</span> <span class="token string">'博客访问来源地图（全球）'</span><span class="token punctuation">,</span>
                x<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
                textStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  color<span class="token operator">:</span> color
                <span class="token punctuation">&#125;</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              tooltip<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                trigger<span class="token operator">:</span> <span class="token string">'item'</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              visualMap<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                min<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                max<span class="token operator">:</span> $<span class="token punctuation">&#123;</span>max<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token comment">// max: 1000,</span>
                left<span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
                top<span class="token operator">:</span> <span class="token string">'bottom'</span><span class="token punctuation">,</span>
                text<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'高'</span><span class="token punctuation">,</span><span class="token string">'低'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                color<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#1E90FF'</span><span class="token punctuation">,</span> <span class="token string">'#AAFAFA'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                textStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  color<span class="token operator">:</span> color
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                calculable<span class="token operator">:</span> <span class="token boolean">true</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>
                name<span class="token operator">:</span> <span class="token string">'$&#123;metricsName&#125;'</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">'map'</span><span class="token punctuation">,</span>
                mapType<span class="token operator">:</span> <span class="token string">'world'</span><span class="token punctuation">,</span>
                showLegendSymbol<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                nameMap<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  <span class="token string">"Afghanistan"</span><span class="token operator">:</span><span class="token string">"阿富汗"</span><span class="token punctuation">,</span>
                  <span class="token string">"Albania"</span><span class="token operator">:</span><span class="token string">"阿尔巴尼亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Algeria"</span><span class="token operator">:</span><span class="token string">"阿尔及利亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Angola"</span><span class="token operator">:</span><span class="token string">"安哥拉"</span><span class="token punctuation">,</span>
                  <span class="token string">"Argentina"</span><span class="token operator">:</span><span class="token string">"阿根廷"</span><span class="token punctuation">,</span>
                  <span class="token string">"Armenia"</span><span class="token operator">:</span><span class="token string">"亚美尼亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Australia"</span><span class="token operator">:</span><span class="token string">"澳大利亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Austria"</span><span class="token operator">:</span><span class="token string">"奥地利"</span><span class="token punctuation">,</span>
                  <span class="token string">"Azerbaijan"</span><span class="token operator">:</span><span class="token string">"阿塞拜疆"</span><span class="token punctuation">,</span>
                  <span class="token string">"Bahamas"</span><span class="token operator">:</span><span class="token string">"巴哈马"</span><span class="token punctuation">,</span>
                  <span class="token string">"Bahrain"</span><span class="token operator">:</span><span class="token string">"巴林"</span><span class="token punctuation">,</span>
                  <span class="token string">"Bangladesh"</span><span class="token operator">:</span><span class="token string">"孟加拉国"</span><span class="token punctuation">,</span>
                  <span class="token string">"Belarus"</span><span class="token operator">:</span><span class="token string">"白俄罗斯"</span><span class="token punctuation">,</span>
                  <span class="token string">"Belgium"</span><span class="token operator">:</span><span class="token string">"比利时"</span><span class="token punctuation">,</span>
                  <span class="token string">"Belize"</span><span class="token operator">:</span><span class="token string">"伯利兹"</span><span class="token punctuation">,</span>
                  <span class="token string">"Benin"</span><span class="token operator">:</span><span class="token string">"贝宁"</span><span class="token punctuation">,</span>
                  <span class="token string">"Bhutan"</span><span class="token operator">:</span><span class="token string">"不丹"</span><span class="token punctuation">,</span>
                  <span class="token string">"Bolivia"</span><span class="token operator">:</span><span class="token string">"玻利维亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Bosnia and Herz."</span><span class="token operator">:</span><span class="token string">"波斯尼亚和黑塞哥维那"</span><span class="token punctuation">,</span>
                  <span class="token string">"Botswana"</span><span class="token operator">:</span><span class="token string">"博茨瓦纳"</span><span class="token punctuation">,</span>
                  <span class="token string">"Brazil"</span><span class="token operator">:</span><span class="token string">"巴西"</span><span class="token punctuation">,</span>
                  <span class="token string">"British Virgin Islands"</span><span class="token operator">:</span><span class="token string">"英属维京群岛"</span><span class="token punctuation">,</span>
                  <span class="token string">"Brunei"</span><span class="token operator">:</span><span class="token string">"文莱"</span><span class="token punctuation">,</span>
                  <span class="token string">"Bulgaria"</span><span class="token operator">:</span><span class="token string">"保加利亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Burkina Faso"</span><span class="token operator">:</span><span class="token string">"布基纳法索"</span><span class="token punctuation">,</span>
                  <span class="token string">"Burundi"</span><span class="token operator">:</span><span class="token string">"布隆迪"</span><span class="token punctuation">,</span>
                  <span class="token string">"Cambodia"</span><span class="token operator">:</span><span class="token string">"柬埔寨"</span><span class="token punctuation">,</span>
                  <span class="token string">"Cameroon"</span><span class="token operator">:</span><span class="token string">"喀麦隆"</span><span class="token punctuation">,</span>
                  <span class="token string">"Canada"</span><span class="token operator">:</span><span class="token string">"加拿大"</span><span class="token punctuation">,</span>
                  <span class="token string">"Cape Verde"</span><span class="token operator">:</span><span class="token string">"佛得角"</span><span class="token punctuation">,</span>
                  <span class="token string">"Cayman Islands"</span><span class="token operator">:</span><span class="token string">"开曼群岛"</span><span class="token punctuation">,</span>
                  <span class="token string">"Central African Rep."</span><span class="token operator">:</span><span class="token string">"中非共和国"</span><span class="token punctuation">,</span>
                  <span class="token string">"Chad"</span><span class="token operator">:</span><span class="token string">"乍得"</span><span class="token punctuation">,</span>
                  <span class="token string">"Chile"</span><span class="token operator">:</span><span class="token string">"智利"</span><span class="token punctuation">,</span>
                  <span class="token string">"China"</span><span class="token operator">:</span><span class="token string">"中国"</span><span class="token punctuation">,</span>
                  <span class="token string">"Colombia"</span><span class="token operator">:</span><span class="token string">"哥伦比亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Comoros"</span><span class="token operator">:</span><span class="token string">"科摩罗"</span><span class="token punctuation">,</span>
                  <span class="token string">"Congo"</span><span class="token operator">:</span><span class="token string">"刚果"</span><span class="token punctuation">,</span>
                  <span class="token string">"Costa Rica"</span><span class="token operator">:</span><span class="token string">"哥斯达黎加"</span><span class="token punctuation">,</span>
                  <span class="token string">"Croatia"</span><span class="token operator">:</span><span class="token string">"克罗地亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Cuba"</span><span class="token operator">:</span><span class="token string">"古巴"</span><span class="token punctuation">,</span>
                  <span class="token string">"Cyprus"</span><span class="token operator">:</span><span class="token string">"塞浦路斯"</span><span class="token punctuation">,</span>
                  <span class="token string">"Czech Rep."</span><span class="token operator">:</span><span class="token string">"捷克共和国"</span><span class="token punctuation">,</span>
                  <span class="token string">"Côte d'Ivoire"</span><span class="token operator">:</span><span class="token string">"科特迪瓦"</span><span class="token punctuation">,</span>
                  <span class="token string">"Dem. Rep. Congo"</span><span class="token operator">:</span><span class="token string">"刚果民主共和国"</span><span class="token punctuation">,</span>
                  <span class="token string">"Dem. Rep. Korea"</span><span class="token operator">:</span><span class="token string">"朝鲜"</span><span class="token punctuation">,</span>
                  <span class="token string">"Denmark"</span><span class="token operator">:</span><span class="token string">"丹麦"</span><span class="token punctuation">,</span>
                  <span class="token string">"Djibouti"</span><span class="token operator">:</span><span class="token string">"吉布提"</span><span class="token punctuation">,</span>
                  <span class="token string">"Dominican Rep."</span><span class="token operator">:</span><span class="token string">"多米尼加共和国"</span><span class="token punctuation">,</span>
                  <span class="token string">"Ecuador"</span><span class="token operator">:</span><span class="token string">"厄瓜多尔"</span><span class="token punctuation">,</span>
                  <span class="token string">"Egypt"</span><span class="token operator">:</span><span class="token string">"埃及"</span><span class="token punctuation">,</span>
                  <span class="token string">"El Salvador"</span><span class="token operator">:</span><span class="token string">"萨尔瓦多"</span><span class="token punctuation">,</span>
                  <span class="token string">"Equatorial Guinea"</span><span class="token operator">:</span><span class="token string">"赤道几内亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Eritrea"</span><span class="token operator">:</span><span class="token string">"厄立特里亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Estonia"</span><span class="token operator">:</span><span class="token string">"爱沙尼亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Ethiopia"</span><span class="token operator">:</span><span class="token string">"埃塞俄比亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Falkland Is."</span><span class="token operator">:</span><span class="token string">"福克兰群岛"</span><span class="token punctuation">,</span>
                  <span class="token string">"Fiji"</span><span class="token operator">:</span><span class="token string">"斐济"</span><span class="token punctuation">,</span>
                  <span class="token string">"Finland"</span><span class="token operator">:</span><span class="token string">"芬兰"</span><span class="token punctuation">,</span>
                  <span class="token string">"Fr. S. Antarctic Lands"</span><span class="token operator">:</span><span class="token string">"所罗门群岛"</span><span class="token punctuation">,</span>
                  <span class="token string">"France"</span><span class="token operator">:</span><span class="token string">"法国"</span><span class="token punctuation">,</span>
                  <span class="token string">"Gabon"</span><span class="token operator">:</span><span class="token string">"加蓬"</span><span class="token punctuation">,</span>
                  <span class="token string">"Gambia"</span><span class="token operator">:</span><span class="token string">"冈比亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Georgia"</span><span class="token operator">:</span><span class="token string">"格鲁吉亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Germany"</span><span class="token operator">:</span><span class="token string">"德国"</span><span class="token punctuation">,</span>
                  <span class="token string">"Ghana"</span><span class="token operator">:</span><span class="token string">"加纳"</span><span class="token punctuation">,</span>
                  <span class="token string">"Greece"</span><span class="token operator">:</span><span class="token string">"希腊"</span><span class="token punctuation">,</span>
                  <span class="token string">"Greenland"</span><span class="token operator">:</span><span class="token string">"格陵兰"</span><span class="token punctuation">,</span>
                  <span class="token string">"Guatemala"</span><span class="token operator">:</span><span class="token string">"危地马拉"</span><span class="token punctuation">,</span>
                  <span class="token string">"Guinea"</span><span class="token operator">:</span><span class="token string">"几内亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Guinea-Bissau"</span><span class="token operator">:</span><span class="token string">"几内亚比绍"</span><span class="token punctuation">,</span>
                  <span class="token string">"Guyana"</span><span class="token operator">:</span><span class="token string">"圭亚那"</span><span class="token punctuation">,</span>
                  <span class="token string">"Haiti"</span><span class="token operator">:</span><span class="token string">"海地"</span><span class="token punctuation">,</span>
                  <span class="token string">"Honduras"</span><span class="token operator">:</span><span class="token string">"洪都拉斯"</span><span class="token punctuation">,</span>
                  <span class="token string">"Hungary"</span><span class="token operator">:</span><span class="token string">"匈牙利"</span><span class="token punctuation">,</span>
                  <span class="token string">"Iceland"</span><span class="token operator">:</span><span class="token string">"冰岛"</span><span class="token punctuation">,</span>
                  <span class="token string">"India"</span><span class="token operator">:</span><span class="token string">"印度"</span><span class="token punctuation">,</span>
                  <span class="token string">"Indonesia"</span><span class="token operator">:</span><span class="token string">"印度尼西亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Iran"</span><span class="token operator">:</span><span class="token string">"伊朗"</span><span class="token punctuation">,</span>
                  <span class="token string">"Iraq"</span><span class="token operator">:</span><span class="token string">"伊拉克"</span><span class="token punctuation">,</span>
                  <span class="token string">"Ireland"</span><span class="token operator">:</span><span class="token string">"爱尔兰"</span><span class="token punctuation">,</span>
                  <span class="token string">"Isle of Man"</span><span class="token operator">:</span><span class="token string">"马恩岛"</span><span class="token punctuation">,</span>
                  <span class="token string">"Israel"</span><span class="token operator">:</span><span class="token string">"以色列"</span><span class="token punctuation">,</span>
                  <span class="token string">"Italy"</span><span class="token operator">:</span><span class="token string">"意大利"</span><span class="token punctuation">,</span>
                  <span class="token string">"Jamaica"</span><span class="token operator">:</span><span class="token string">"牙买加"</span><span class="token punctuation">,</span>
                  <span class="token string">"Japan"</span><span class="token operator">:</span><span class="token string">"日本"</span><span class="token punctuation">,</span>
                  <span class="token string">"Jordan"</span><span class="token operator">:</span><span class="token string">"约旦"</span><span class="token punctuation">,</span>
                  <span class="token string">"Kazakhstan"</span><span class="token operator">:</span><span class="token string">"哈萨克斯坦"</span><span class="token punctuation">,</span>
                  <span class="token string">"Kenya"</span><span class="token operator">:</span><span class="token string">"肯尼亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Korea"</span><span class="token operator">:</span><span class="token string">"韩国"</span><span class="token punctuation">,</span>
                  <span class="token string">"Kuwait"</span><span class="token operator">:</span><span class="token string">"科威特"</span><span class="token punctuation">,</span>
                  <span class="token string">"Kyrgyzstan"</span><span class="token operator">:</span><span class="token string">"吉尔吉斯斯坦"</span><span class="token punctuation">,</span>
                  <span class="token string">"Lao PDR"</span><span class="token operator">:</span><span class="token string">"老挝"</span><span class="token punctuation">,</span>
                  <span class="token string">"Latvia"</span><span class="token operator">:</span><span class="token string">"拉脱维亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Lebanon"</span><span class="token operator">:</span><span class="token string">"黎巴嫩"</span><span class="token punctuation">,</span>
                  <span class="token string">"Lesotho"</span><span class="token operator">:</span><span class="token string">"莱索托"</span><span class="token punctuation">,</span>
                  <span class="token string">"Liberia"</span><span class="token operator">:</span><span class="token string">"利比里亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Libya"</span><span class="token operator">:</span><span class="token string">"利比亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Lithuania"</span><span class="token operator">:</span><span class="token string">"立陶宛"</span><span class="token punctuation">,</span>
                  <span class="token string">"Luxembourg"</span><span class="token operator">:</span><span class="token string">"卢森堡"</span><span class="token punctuation">,</span>
                  <span class="token string">"Macedonia"</span><span class="token operator">:</span><span class="token string">"马其顿"</span><span class="token punctuation">,</span>
                  <span class="token string">"Madagascar"</span><span class="token operator">:</span><span class="token string">"马达加斯加"</span><span class="token punctuation">,</span>
                  <span class="token string">"Malawi"</span><span class="token operator">:</span><span class="token string">"马拉维"</span><span class="token punctuation">,</span>
                  <span class="token string">"Malaysia"</span><span class="token operator">:</span><span class="token string">"马来西亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Maldives"</span><span class="token operator">:</span><span class="token string">"马尔代夫"</span><span class="token punctuation">,</span>
                  <span class="token string">"Mali"</span><span class="token operator">:</span><span class="token string">"马里"</span><span class="token punctuation">,</span>
                  <span class="token string">"Malta"</span><span class="token operator">:</span><span class="token string">"马耳他"</span><span class="token punctuation">,</span>
                  <span class="token string">"Mauritania"</span><span class="token operator">:</span><span class="token string">"毛利塔尼亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Mauritius"</span><span class="token operator">:</span><span class="token string">"毛里求斯"</span><span class="token punctuation">,</span>
                  <span class="token string">"Mexico"</span><span class="token operator">:</span><span class="token string">"墨西哥"</span><span class="token punctuation">,</span>
                  <span class="token string">"Moldova"</span><span class="token operator">:</span><span class="token string">"摩尔多瓦"</span><span class="token punctuation">,</span>
                  <span class="token string">"Monaco"</span><span class="token operator">:</span><span class="token string">"摩纳哥"</span><span class="token punctuation">,</span>
                  <span class="token string">"Mongolia"</span><span class="token operator">:</span><span class="token string">"蒙古"</span><span class="token punctuation">,</span>
                  <span class="token string">"Montenegro"</span><span class="token operator">:</span><span class="token string">"黑山共和国"</span><span class="token punctuation">,</span>
                  <span class="token string">"Morocco"</span><span class="token operator">:</span><span class="token string">"摩洛哥"</span><span class="token punctuation">,</span>
                  <span class="token string">"Mozambique"</span><span class="token operator">:</span><span class="token string">"莫桑比克"</span><span class="token punctuation">,</span>
                  <span class="token string">"Myanmar"</span><span class="token operator">:</span><span class="token string">"缅甸"</span><span class="token punctuation">,</span>
                  <span class="token string">"Namibia"</span><span class="token operator">:</span><span class="token string">"纳米比亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Nepal"</span><span class="token operator">:</span><span class="token string">"尼泊尔"</span><span class="token punctuation">,</span>
                  <span class="token string">"Netherlands"</span><span class="token operator">:</span><span class="token string">"荷兰"</span><span class="token punctuation">,</span>
                  <span class="token string">"New Caledonia"</span><span class="token operator">:</span><span class="token string">"新喀里多尼亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"New Zealand"</span><span class="token operator">:</span><span class="token string">"新西兰"</span><span class="token punctuation">,</span>
                  <span class="token string">"Nicaragua"</span><span class="token operator">:</span><span class="token string">"尼加拉瓜"</span><span class="token punctuation">,</span>
                  <span class="token string">"Niger"</span><span class="token operator">:</span><span class="token string">"尼日尔"</span><span class="token punctuation">,</span>
                  <span class="token string">"Nigeria"</span><span class="token operator">:</span><span class="token string">"尼日利亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Norway"</span><span class="token operator">:</span><span class="token string">"挪威"</span><span class="token punctuation">,</span>
                  <span class="token string">"Oman"</span><span class="token operator">:</span><span class="token string">"阿曼"</span><span class="token punctuation">,</span>
                  <span class="token string">"Pakistan"</span><span class="token operator">:</span><span class="token string">"巴基斯坦"</span><span class="token punctuation">,</span>
                  <span class="token string">"Panama"</span><span class="token operator">:</span><span class="token string">"巴拿马"</span><span class="token punctuation">,</span>
                  <span class="token string">"Papua New Guinea"</span><span class="token operator">:</span><span class="token string">"巴布亚新几内亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Paraguay"</span><span class="token operator">:</span><span class="token string">"巴拉圭"</span><span class="token punctuation">,</span>
                  <span class="token string">"Peru"</span><span class="token operator">:</span><span class="token string">"秘鲁"</span><span class="token punctuation">,</span>
                  <span class="token string">"Philippines"</span><span class="token operator">:</span><span class="token string">"菲律宾"</span><span class="token punctuation">,</span>
                  <span class="token string">"Poland"</span><span class="token operator">:</span><span class="token string">"波兰"</span><span class="token punctuation">,</span>
                  <span class="token string">"Portugal"</span><span class="token operator">:</span><span class="token string">"葡萄牙"</span><span class="token punctuation">,</span>
                  <span class="token string">"Puerto Rico"</span><span class="token operator">:</span><span class="token string">"波多黎各"</span><span class="token punctuation">,</span>
                  <span class="token string">"Qatar"</span><span class="token operator">:</span><span class="token string">"卡塔尔"</span><span class="token punctuation">,</span>
                  <span class="token string">"Reunion"</span><span class="token operator">:</span><span class="token string">"留尼旺"</span><span class="token punctuation">,</span>
                  <span class="token string">"Romania"</span><span class="token operator">:</span><span class="token string">"罗马尼亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Russia"</span><span class="token operator">:</span><span class="token string">"俄罗斯"</span><span class="token punctuation">,</span>
                  <span class="token string">"Rwanda"</span><span class="token operator">:</span><span class="token string">"卢旺达"</span><span class="token punctuation">,</span>
                  <span class="token string">"S. Geo. and S. Sandw. Is."</span><span class="token operator">:</span><span class="token string">"南乔治亚和南桑威奇群岛"</span><span class="token punctuation">,</span>
                  <span class="token string">"S. Sudan"</span><span class="token operator">:</span><span class="token string">"南苏丹"</span><span class="token punctuation">,</span>
                  <span class="token string">"San Marino"</span><span class="token operator">:</span><span class="token string">"圣马力诺"</span><span class="token punctuation">,</span>
                  <span class="token string">"Saudi Arabia"</span><span class="token operator">:</span><span class="token string">"沙特阿拉伯"</span><span class="token punctuation">,</span>
                  <span class="token string">"Senegal"</span><span class="token operator">:</span><span class="token string">"塞内加尔"</span><span class="token punctuation">,</span>
                  <span class="token string">"Serbia"</span><span class="token operator">:</span><span class="token string">"塞尔维亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Sierra Leone"</span><span class="token operator">:</span><span class="token string">"塞拉利昂"</span><span class="token punctuation">,</span>
                  <span class="token string">"Singapore"</span><span class="token operator">:</span><span class="token string">"新加坡"</span><span class="token punctuation">,</span>
                  <span class="token string">"Slovakia"</span><span class="token operator">:</span><span class="token string">"斯洛伐克"</span><span class="token punctuation">,</span>
                  <span class="token string">"Slovenia"</span><span class="token operator">:</span><span class="token string">"斯洛文尼亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Solomon Is."</span><span class="token operator">:</span><span class="token string">"所罗门群岛"</span><span class="token punctuation">,</span>
                  <span class="token string">"Somalia"</span><span class="token operator">:</span><span class="token string">"索马里"</span><span class="token punctuation">,</span>
                  <span class="token string">"South Africa"</span><span class="token operator">:</span><span class="token string">"南非"</span><span class="token punctuation">,</span>
                  <span class="token string">"Spain"</span><span class="token operator">:</span><span class="token string">"西班牙"</span><span class="token punctuation">,</span>
                  <span class="token string">"Sri Lanka"</span><span class="token operator">:</span><span class="token string">"斯里兰卡"</span><span class="token punctuation">,</span>
                  <span class="token string">"Sudan"</span><span class="token operator">:</span><span class="token string">"苏丹"</span><span class="token punctuation">,</span>
                  <span class="token string">"Suriname"</span><span class="token operator">:</span><span class="token string">"苏里南"</span><span class="token punctuation">,</span>
                  <span class="token string">"Swaziland"</span><span class="token operator">:</span><span class="token string">"斯威士兰"</span><span class="token punctuation">,</span>
                  <span class="token string">"Sweden"</span><span class="token operator">:</span><span class="token string">"瑞典"</span><span class="token punctuation">,</span>
                  <span class="token string">"Switzerland"</span><span class="token operator">:</span><span class="token string">"瑞士"</span><span class="token punctuation">,</span>
                  <span class="token string">"Syria"</span><span class="token operator">:</span><span class="token string">"叙利亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Tajikistan"</span><span class="token operator">:</span><span class="token string">"塔吉克斯坦"</span><span class="token punctuation">,</span>
                  <span class="token string">"Tanzania"</span><span class="token operator">:</span><span class="token string">"坦桑尼亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Thailand"</span><span class="token operator">:</span><span class="token string">"泰国"</span><span class="token punctuation">,</span>
                  <span class="token string">"Togo"</span><span class="token operator">:</span><span class="token string">"多哥"</span><span class="token punctuation">,</span>
                  <span class="token string">"Tonga"</span><span class="token operator">:</span><span class="token string">"汤加"</span><span class="token punctuation">,</span>
                  <span class="token string">"Trinidad and Tobago"</span><span class="token operator">:</span><span class="token string">"特立尼达和多巴哥"</span><span class="token punctuation">,</span>
                  <span class="token string">"Tunisia"</span><span class="token operator">:</span><span class="token string">"突尼斯"</span><span class="token punctuation">,</span>
                  <span class="token string">"Turkey"</span><span class="token operator">:</span><span class="token string">"土耳其"</span><span class="token punctuation">,</span>
                  <span class="token string">"Turkmenistan"</span><span class="token operator">:</span><span class="token string">"土库曼斯坦"</span><span class="token punctuation">,</span>
                  <span class="token string">"U.S. Virgin Islands"</span><span class="token operator">:</span><span class="token string">"美属维尔京群岛"</span><span class="token punctuation">,</span>
                  <span class="token string">"Uganda"</span><span class="token operator">:</span><span class="token string">"乌干达"</span><span class="token punctuation">,</span>
                  <span class="token string">"Ukraine"</span><span class="token operator">:</span><span class="token string">"乌克兰"</span><span class="token punctuation">,</span>
                  <span class="token string">"United Arab Emirates"</span><span class="token operator">:</span><span class="token string">"阿拉伯联合酋长国"</span><span class="token punctuation">,</span>
                  <span class="token string">"United Kingdom"</span><span class="token operator">:</span><span class="token string">"英国"</span><span class="token punctuation">,</span>
                  <span class="token string">"United States"</span><span class="token operator">:</span><span class="token string">"美国"</span><span class="token punctuation">,</span>
                  <span class="token string">"Uruguay"</span><span class="token operator">:</span><span class="token string">"乌拉圭"</span><span class="token punctuation">,</span>
                  <span class="token string">"Uzbekistan"</span><span class="token operator">:</span><span class="token string">"乌兹别克斯坦"</span><span class="token punctuation">,</span>
                  <span class="token string">"Vanuatu"</span><span class="token operator">:</span><span class="token string">"瓦努阿图"</span><span class="token punctuation">,</span>
                  <span class="token string">"Vatican City"</span><span class="token operator">:</span><span class="token string">"梵蒂冈城"</span><span class="token punctuation">,</span>
                  <span class="token string">"Venezuela"</span><span class="token operator">:</span><span class="token string">"委内瑞拉"</span><span class="token punctuation">,</span>
                  <span class="token string">"Vietnam"</span><span class="token operator">:</span><span class="token string">"越南"</span><span class="token punctuation">,</span>
                  <span class="token string">"W. Sahara"</span><span class="token operator">:</span><span class="token string">"西撒哈拉"</span><span class="token punctuation">,</span>
                  <span class="token string">"Yemen"</span><span class="token operator">:</span><span class="token string">"也门"</span><span class="token punctuation">,</span>
                  <span class="token string">"Yugoslavia"</span><span class="token operator">:</span><span class="token string">"南斯拉夫"</span><span class="token punctuation">,</span>
                  <span class="token string">"Zaire"</span><span class="token operator">:</span><span class="token string">"扎伊尔"</span><span class="token punctuation">,</span>
                  <span class="token string">"Zambia"</span><span class="token operator">:</span><span class="token string">"赞比亚"</span><span class="token punctuation">,</span>
                  <span class="token string">"Zimbabwe"</span><span class="token operator">:</span><span class="token string">"津巴布韦"</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                label<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  emphasis<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    show<span class="token operator">:</span> <span class="token boolean">false</span>
                  <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                itemStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  normal<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    areaColor<span class="token operator">:</span> <span class="token string">'rgba(255, 255, 255, 0.1)'</span><span class="token punctuation">,</span>
                    borderColor<span class="token operator">:</span> <span class="token string">'#20232a'</span>
                  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                  emphasis<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    areaColor<span class="token operator">:</span> <span class="token string">'gold'</span>
                  <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                data<span class="token operator">:</span> $<span class="token punctuation">&#123;</span>mapArrJson<span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">]</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
            worldmap<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>worldmapOption<span class="token punctuation">)</span><span class="token punctuation">;</span>
            window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> 
              worldmap<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>`);
      &#125;).catch(function (error) &#123;
        console.log(error);
      &#125;);
  &#125;)
&#125;

// 访问地图
function mapChart () &#123;
  return new Promise(resolve => &#123;
    const paramUrl = '&amp;start_date=' + startDate + '&amp;end_date=' + endDate + '&amp;metrics=' + metrics + '&amp;method=visit/district/a';
    fetch(dataUrl + paramUrl)
      .then(data => data.json())
      .then(data => &#123;
        monthArr = [];
        let mapName = data.result.items[0]
        let mapValue = data.result.items[1]
        let mapArr = []
        let max = mapValue<span class="token url">[<span class="token content">0</span>][<span class="token variable">0</span>]</span>
        for (let i = 0; i &lt; mapName.length; i++) &#123;
          mapArr.push(&#123; name: mapName<span class="token url">[<span class="token content">i</span>][<span class="token variable">0</span>]</span>.name, value: mapValue<span class="token url">[<span class="token content">i</span>][<span class="token variable">0</span>]</span> &#125;)
        &#125;
        const mapArrJson = JSON.stringify(mapArr)
        resolve(`
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mapChart<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
            <span class="token keyword">var</span> color <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-theme'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'light'</span> <span class="token operator">?</span> <span class="token string">'#4c4948'</span> <span class="token operator">:</span> <span class="token string">'rgba(255,255,255,0.7)'</span>
            <span class="token keyword">var</span> mapChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'map-chart'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> mapOption <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
              title<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                text<span class="token operator">:</span> <span class="token string">'博客访问来源地图（全国）'</span><span class="token punctuation">,</span>
                x<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
                textStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  color<span class="token operator">:</span> color
                <span class="token punctuation">&#125;</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              tooltip<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                trigger<span class="token operator">:</span> <span class="token string">'item'</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              visualMap<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                min<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                max<span class="token operator">:</span> $<span class="token punctuation">&#123;</span>max<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                left<span class="token operator">:</span> <span class="token string">'left'</span><span class="token punctuation">,</span>
                top<span class="token operator">:</span> <span class="token string">'bottom'</span><span class="token punctuation">,</span>
                text<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'高'</span><span class="token punctuation">,</span><span class="token string">'低'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                color<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#1E90FF'</span><span class="token punctuation">,</span> <span class="token string">'#AAFAFA'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                textStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  color<span class="token operator">:</span> color
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                calculable<span class="token operator">:</span> <span class="token boolean">true</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>
                name<span class="token operator">:</span> <span class="token string">'$&#123;metricsName&#125;'</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">'map'</span><span class="token punctuation">,</span>
                mapType<span class="token operator">:</span> <span class="token string">'china'</span><span class="token punctuation">,</span>
                showLegendSymbol<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                label<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  emphasis<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    show<span class="token operator">:</span> <span class="token boolean">false</span>
                  <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                itemStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  normal<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    areaColor<span class="token operator">:</span> <span class="token string">'rgba(255, 255, 255, 0.1)'</span><span class="token punctuation">,</span>
                    borderColor<span class="token operator">:</span> <span class="token string">'#20232a'</span>
                  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                  emphasis<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    areaColor<span class="token operator">:</span> <span class="token string">'gold'</span>
                  <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                data<span class="token operator">:</span> $<span class="token punctuation">&#123;</span>mapArrJson<span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">]</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
            mapChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>mapOption<span class="token punctuation">)</span><span class="token punctuation">;</span>
            window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> 
              mapChart<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>`);
      &#125;).catch(function (error) &#123;
        console.log(error);
      &#125;);
  &#125;)
&#125;

// 访问趋势
function trendsChart () &#123;
  return new Promise(resolve => &#123;
    const paramUrl = '&amp;start_date=' + startDate + '&amp;end_date=' + endDate + '&amp;metrics=' + metrics + '&amp;method=trend/time/a&amp;gran=month'
    fetch(dataUrl + paramUrl)
      .then(data => data.json())
      .then(data => &#123;
        const monthArr = []
        const monthValueArr = []
        const monthName = data.result.items[0]
        const monthValue = data.result.items[1]
        for (let i = Math.min(monthName.length, 12) - 1; i >= 0; i--) &#123;
          monthArr.push(monthName<span class="token url">[<span class="token content">i</span>][<span class="token variable">0</span>]</span>.substring(0, 7).replace('/', '-'))
          if (monthValue<span class="token url">[<span class="token content">i</span>][<span class="token variable">0</span>]</span> !== '--') &#123;
            monthValueArr.push(monthValue<span class="token url">[<span class="token content">i</span>][<span class="token variable">0</span>]</span>)
          &#125; else &#123;
            monthValueArr.push(null)
          &#125;
        &#125;
        const monthArrJson = JSON.stringify(monthArr)
        const monthValueArrJson = JSON.stringify(monthValueArr)
        resolve(`
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>trendsChart<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
            <span class="token keyword">var</span> color <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-theme'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'light'</span> <span class="token operator">?</span> <span class="token string">'#4c4948'</span> <span class="token operator">:</span> <span class="token string">'rgba(255,255,255,0.7)'</span>
            <span class="token keyword">var</span> trendsChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'trends-chart'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> trendsOption <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
              textStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                color<span class="token operator">:</span> color
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              title<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                text<span class="token operator">:</span> <span class="token string">'博客访问统计图'</span><span class="token punctuation">,</span>
                x<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
                textStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  color<span class="token operator">:</span> color
                <span class="token punctuation">&#125;</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              tooltip<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                trigger<span class="token operator">:</span> <span class="token string">'axis'</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              xAxis<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                name<span class="token operator">:</span> <span class="token string">'日期'</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">'category'</span><span class="token punctuation">,</span>
                axisTick<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  show<span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                axisLine<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                  lineStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    color<span class="token operator">:</span> color
                  <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                data<span class="token operator">:</span> $<span class="token punctuation">&#123;</span>monthArrJson<span class="token punctuation">&#125;</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              yAxis<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                name<span class="token operator">:</span> <span class="token string">'$&#123;metricsName&#125;'</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span>
                splitLine<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  show<span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                axisTick<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  show<span class="token operator">:</span> <span class="token boolean">false</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                axisLine<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  show<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                  lineStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    color<span class="token operator">:</span> color
                  <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>
                name<span class="token operator">:</span> <span class="token string">'$&#123;metricsName&#125;'</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">'line'</span><span class="token punctuation">,</span>
                smooth<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                lineStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    width<span class="token operator">:</span> <span class="token number">0</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                showSymbol<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                itemStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  opacity<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                  color<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">echarts<span class="token punctuation">.</span>graphic<span class="token punctuation">.</span>LinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>
                    offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                    color<span class="token operator">:</span> <span class="token string">'rgba(128, 255, 165)'</span>
                  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                  <span class="token punctuation">&#123;</span>
                    offset<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    color<span class="token operator">:</span> <span class="token string">'rgba(1, 191, 236)'</span>
                  <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                areaStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  opacity<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                  color<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">echarts<span class="token punctuation">.</span>graphic<span class="token punctuation">.</span>LinearGradient</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>
                    offset<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                    color<span class="token operator">:</span> <span class="token string">'rgba(128, 255, 165)'</span>
                  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
                    offset<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    color<span class="token operator">:</span> <span class="token string">'rgba(1, 191, 236)'</span>
                  <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                data<span class="token operator">:</span> $<span class="token punctuation">&#123;</span>monthValueArrJson<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                markLine<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  data<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>
                    name<span class="token operator">:</span> <span class="token string">'平均值'</span><span class="token punctuation">,</span>
                    type<span class="token operator">:</span> <span class="token string">'average'</span>
                  <span class="token punctuation">&#125;</span><span class="token punctuation">]</span>
                <span class="token punctuation">&#125;</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">]</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
            trendsChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>trendsOption<span class="token punctuation">)</span><span class="token punctuation">;</span>
            window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> 
              trendsChart<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>`)
      &#125;).catch(function (error) &#123;
        console.log(error);
      &#125;);
  &#125;)
&#125;

// 访问来源
function sourcesChart () &#123;
  return new Promise(resolve => &#123;
    const paramUrl = '&amp;start_date=' + startDate + '&amp;end_date=' + endDate + '&amp;metrics=' + metrics + '&amp;method=source/all/a';
    fetch(dataUrl + paramUrl)
      .then(data => data.json())
      .then(data => &#123;
        monthArr = [];
        let sourcesName = data.result.items[0]
        let sourcesValue = data.result.items[1]
        let sourcesArr = []
        for (let i = 0; i &lt; sourcesName.length; i++) &#123;
          sourcesArr.push(&#123; name: sourcesName<span class="token url">[<span class="token content">i</span>][<span class="token variable">0</span>]</span>.name, value: sourcesValue<span class="token url">[<span class="token content">i</span>][<span class="token variable">0</span>]</span> &#125;)
        &#125;
        const sourcesArrJson = JSON.stringify(sourcesArr)
        resolve(`
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sourcesChart<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
            <span class="token keyword">var</span> color <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-theme'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'light'</span> <span class="token operator">?</span> <span class="token string">'#4c4948'</span> <span class="token operator">:</span> <span class="token string">'rgba(255,255,255,0.7)'</span>
            <span class="token keyword">var</span> sourcesChart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'sources-chart'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> sourcesOption <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
              textStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                color<span class="token operator">:</span> color
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              title<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                text<span class="token operator">:</span> <span class="token string">'博客访问来源统计图'</span><span class="token punctuation">,</span>
                x<span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
                textStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  color<span class="token operator">:</span> color
                <span class="token punctuation">&#125;</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              legend<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                top<span class="token operator">:</span> <span class="token string">'bottom'</span><span class="token punctuation">,</span>
                textStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  color<span class="token operator">:</span> color
                <span class="token punctuation">&#125;</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              tooltip<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                trigger<span class="token operator">:</span> <span class="token string">'item'</span><span class="token punctuation">,</span>
                formatter<span class="token operator">:</span> <span class="token string">"&#123;a&#125; &lt;br/>&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)"</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
              series<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span>
                name<span class="token operator">:</span> <span class="token string">'$&#123;metricsName&#125;'</span><span class="token punctuation">,</span>
                type<span class="token operator">:</span> <span class="token string">'pie'</span><span class="token punctuation">,</span>
                radius<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                center<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'50%'</span><span class="token punctuation">,</span> <span class="token string">'50%'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                roseType<span class="token operator">:</span> <span class="token string">'area'</span><span class="token punctuation">,</span>
                label<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  formatter<span class="token operator">:</span> <span class="token string">"&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)"</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                data<span class="token operator">:</span> $<span class="token punctuation">&#123;</span>sourcesArrJson<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                itemStyle<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                  emphasis<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                    shadowBlur<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
                    shadowOffsetX<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                    shadowColor<span class="token operator">:</span> <span class="token string">'rgba(255, 255, 255, 0.5)'</span>
                  <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span>
              <span class="token punctuation">&#125;</span><span class="token punctuation">]</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
            sourcesChart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>sourcesOption<span class="token punctuation">)</span><span class="token punctuation">;</span>
            window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span> 
              sourcesChart<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>`);
      &#125;).catch(function (error) &#123;
        console.log(error);
      &#125;);
  &#125;)
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="阅读排行榜"><a href="#阅读排行榜" class="headerlink" title="阅读排行榜"></a>阅读排行榜</h4><p>todo。</p>
<h4 id="娱乐"><a href="#娱乐" class="headerlink" title="娱乐"></a>娱乐</h4><h5 id="电影"><a href="#电影" class="headerlink" title="电影"></a>电影</h5><p>参考资料：</p>
<p><a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/4073eda/#%E9%9B%BB%E5%BD%B1">https://butterfly.js.org/posts/4073eda/#%E9%9B%BB%E5%BD%B1</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/jerryc127/butterfly-plugins/tree/main/hexo-butterfly-douban">https://github.com/jerryc127/butterfly-plugins/tree/main/hexo-butterfly-douban</a></p>
<h3 id="首页增加字数总计，阅读时长"><a href="#首页增加字数总计，阅读时长" class="headerlink" title="首页增加字数总计，阅读时长"></a>首页增加字数总计，阅读时长</h3><p>原生的butterfly首页无法显示字数总计，阅读时长，这里对其进行了修改，具体见<a href="/2021/06/13/2021-6-13-%E7%BB%99Hexo-Butterfly%E4%B8%BB%E9%A2%98%E9%A6%96%E9%A1%B5%E5%A2%9E%E5%8A%A0%E5%AD%97%E6%95%B0%E6%80%BB%E8%AE%A1%EF%BC%8C%E9%98%85%E8%AF%BB%E6%97%B6%E9%95%BF/" title="配置方法">配置方法</a>。</p>
<h3 id="文章页无法显示标签"><a href="#文章页无法显示标签" class="headerlink" title="文章页无法显示标签"></a>文章页无法显示标签</h3><p>更新：</p>
<p>标签显示在文章底部，并不是没有显示，所以后续操作可以忽略。</p>
<p>在主题的3.7.8版本中，即使将主题配置文件中如下tags设置为true，依然没有显示标签</p>
<pre class="line-numbers language-none"><code class="language-none">post_meta:
  post:
    tags: true # true or false 文章頁是否顯示標籤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>检查后发现是缺少对应代码，配置文件为</p>
<pre class="line-numbers language-none"><code class="language-none">\blog\themes\butterfly\layout\includes\header\post-info.pug<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>搜索</p>
<pre class="line-numbers language-none"><code class="language-none">i.fas.fa-angle-right.post-meta-separator<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>在其后添加</p>
<pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;- add
if (theme.post_meta.page.tags &amp;&amp; page.tags.data.length &gt; 0)
  span.post-meta-categories
    span.post-meta-separator |
    i.fas.fa-tag
    each item, index in page.tags.data
      a(href&#x3D;url_for(item.path)).article-meta__tags #[&#x3D;item.name]
      if (index &lt; page.tags.data.length - 1)
        span.article-meta__link #[&#x3D;&#39;•&#39;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>注意该if要和</p>
<pre class="line-numbers language-none"><code class="language-none">if (theme.post_meta.post.categories &amp;&amp; page.categories.data.length &gt; 0)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>的缩进相同，最后的效果为：</p>
<pre class="line-numbers language-none"><code class="language-none">if (theme.post_meta.post.categories &amp;&amp; page.categories.data.length &gt; 0)
  span.post-meta-categories
    if (theme.post_meta.post.date_type)
      span.post-meta-separator |

    each item, index in page.categories.data
      i.fas.fa-inbox.fa-fw.post-meta-icon
      a(href&#x3D;url_for(item.path)).post-meta-categories #[&#x3D;item.name]
      if (index &lt; page.categories.data.length - 1)
        i.fas.fa-angle-right.post-meta-separator

&#x2F;&#x2F;- add
if (theme.post_meta.page.tags &amp;&amp; page.tags.data.length &gt; 0)
  span.post-meta-categories
    span.post-meta-separator |
    i.fas.fa-tag
    each item, index in page.tags.data
      a(href&#x3D;url_for(item.path)).article-meta__tags #[&#x3D;item.name]
      if (index &lt; page.tags.data.length - 1)
        span.article-meta__link #[&#x3D;&#39;•&#39;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="访客地图"><a href="#访客地图" class="headerlink" title="访客地图"></a>访客地图</h3><p>参考资料：</p>
<p><a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/ea33ab97/#%E4%BE%8B%E5%AD%90">https://butterfly.js.org/posts/ea33ab97/#%E4%BE%8B%E5%AD%90</a></p>
<p><a target="_blank" rel="noopener" href="https://clustrmaps.com/">https://clustrmaps.com/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/DHUtoBUAA/p/12283754.html">https://www.cnblogs.com/DHUtoBUAA/p/12283754.html</a></p>
<p>按照链接1配置，将代码替换为链接2中自己的代码即可。</p>
<h3 id="数学公式"><a href="#数学公式" class="headerlink" title="数学公式"></a>数学公式</h3><p>参考资料：</p>
<p><a target="_blank" rel="noopener" href="https://butterfly.js.org/posts/ceeb73f/#Math-%E6%95%B8%E5%AD%B8">https://butterfly.js.org/posts/ceeb73f/#Math-%E6%95%B8%E5%AD%B8</a></p>
<p><a target="_blank" rel="noopener" href="https://ranmaosong.github.io/2017/11/29/hexo-support-mathjax/">https://ranmaosong.github.io/2017/11/29/hexo-support-mathjax/</a></p>
<p>选了mathjax，首先进行安装：</p>
<pre class="line-numbers language-none"><code class="language-none">npm uninstall hexo-renderer-marked --save
npm install hexo-renderer-kramed --save
npm uninstall hexo-math --save
npm install hexo-renderer-mathjax --save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果安装后部分数学公式显示不正确，可以按照如下方式调整。</p>
<p>文件位置：</p>
<pre class="line-numbers language-none"><code class="language-none">D:\blog\node_modules\hexo-renderer-kramed\lib\renderer.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>修改内容：</p>
<pre class="line-numbers language-diff" data-language="diff"><code class="language-diff">// Change inline math rule
function formatText(text) &#123;
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   // Fit kramed's rule: $$ + \1 + $$
</span><span class="token prefix unchanged"> </span><span class="token line">   - return text.replace(/`\$(.*?)\$`/g, '$$$$$1$$$$');
</span><span class="token prefix unchanged"> </span><span class="token line">   + return text;
</span></span>&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>文件位置：</p>
<pre class="line-numbers language-none"><code class="language-none">\blog\node_modules\kramed\lib\rules\inline.js<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>修改内容：</p>
<pre class="line-numbers language-diff" data-language="diff"><code class="language-diff"><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> escape: /^\\([\\`*&#123;&#125;\[\]()#$+\-.!_>])/,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> escape: /^\\([`*\[\]()#$+\-.!_>])/,
</span></span>
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> em: /^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>还有一些显示的问题，已经在issue中提出：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly/issues/587">https://github.com/jerryc127/hexo-theme-butterfly/issues/587</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly/issues/586">https://github.com/jerryc127/hexo-theme-butterfly/issues/586</a></li>
</ul>
<p>目前（截至20210612）作者已经在dev分支修复上述问题，修改的文件为</p>
<pre class="line-numbers language-none"><code class="language-none">\blog\themes\butterfly\layout\includes\third-party\math\mathjax.pug<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="添加社交图标"><a href="#添加社交图标" class="headerlink" title="添加社交图标"></a>添加社交图标</h3><h4 id="b站"><a href="#b站" class="headerlink" title="b站"></a>b站</h4><p>参考资料：</p>
<p><a target="_blank" rel="noopener" href="https://blog.imzjw.cn/posts/b74f504f/">https://blog.imzjw.cn/posts/b74f504f/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.iconfont.cn/">https://www.iconfont.cn/</a></p>
<p>以b站为例，按照教程中的方法下载css，内容如下：</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">&#123;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"iconfont"</span><span class="token punctuation">;</span> <span class="token comment">/* Project id 2604084 */</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'//at.alicdn.com/t/font_2604084_fh638f3m5rm.woff2?t=1623256482370'</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'woff2'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'//at.alicdn.com/t/font_2604084_fh638f3m5rm.woff?t=1623256482370'</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'woff'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'//at.alicdn.com/t/font_2604084_fh638f3m5rm.ttf?t=1623256482370'</span><span class="token punctuation">)</span></span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'truetype'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  
  <span class="token selector">.iconfont</span> <span class="token punctuation">&#123;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"iconfont"</span> <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token comment">/* font-size: 16px; */</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
    <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
    <span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span>
    <span class="token property">-moz-osx-font-smoothing</span><span class="token punctuation">:</span> grayscale<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  
  <span class="token selector">.icon-bilibili:before</span> <span class="token punctuation">&#123;</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">"\e601"</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在如下路径</p>
<pre class="line-numbers language-none"><code class="language-none">\blog\themes\butterfly\source\css<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>新建bilibili.css，将这些内容复制到css文件中。</p>
<p>在主题的_config.yml中添加：</p>
<pre class="line-numbers language-none"><code class="language-none">inject:
  head:
    - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&#x2F;css&#x2F;bilibili.css&quot; media&#x3D;&quot;defer&quot; onload&#x3D;&quot;this.media&#x3D;&#39;all&#39;&quot;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>在主题的_config.yml文件中social添加如下内容即可：</p>
<pre class="line-numbers language-none"><code class="language-none">social:
	  iconfont icon-bilibili: b站主页 || Bilibili<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>其他的社交图标用同样方式添加即可。</p>
<h4 id="rss"><a href="#rss" class="headerlink" title="rss"></a>rss</h4><p>参考资料：</p>
<p><a target="_blank" rel="noopener" href="https://lilu.org.cn/2021/01/31/butterfly/">https://lilu.org.cn/2021/01/31/butterfly/</a></p>
<p>安装插件：</p>
<pre class="line-numbers language-none"><code class="language-none">npm install hexo-generator-feed --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>配置：</p>
<pre class="line-numbers language-none"><code class="language-none">social:
	  fa fa-rss: &#x2F;atom.xml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="文章meta信息"><a href="#文章meta信息" class="headerlink" title="文章meta信息"></a>文章meta信息</h3><h3 id="加载动画"><a href="#加载动画" class="headerlink" title="加载动画"></a>加载动画</h3><p>网页加载动画：</p>
<pre class="line-numbers language-none"><code class="language-none"># Loading Animation (加載動畫)
preloader: true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>图片加载动画：</p>
<pre class="line-numbers language-none"><code class="language-none"># Lazyload (圖片懶加載)
# https:&#x2F;&#x2F;github.com&#x2F;verlok&#x2F;vanilla-lazyload
lazyload:
  enable: true
  field: site # site&#x2F;post
  placeholder: &#x2F;img&#x2F;loading.gif
  blur: false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>loading.gif即为加载动画，路径如下</p>
<pre class="line-numbers language-none"><code class="language-none">\blog\themes\butterfly\source\img<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="顶部图"><a href="#顶部图" class="headerlink" title="顶部图"></a>顶部图</h3><p>配置命令如下：</p>
<pre class="line-numbers language-none"><code class="language-none"># Disable all banner image
disable_top_img: false

# The banner image of home page
index_img: picture<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="美化页面"><a href="#美化页面" class="headerlink" title="美化页面"></a>美化页面</h3><pre class="line-numbers language-none"><code class="language-none"># Beautify (美化頁面顯示)
beautify:
  enable: true
  field: site # site&#x2F;post
  title-prefix-icon: &#39;\f0c1&#39;
  title-prefix-icon-color: &#39;#F47466&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="评论系统"><a href="#评论系统" class="headerlink" title="评论系统"></a>评论系统</h3><p>目前配置了valine以及来必力（遗留问题，早期的评论来自于来必力，目前来必力只通过qq浏览器成功登陆，chrome以及edge均无法登陆）。</p>
<p>配置如下：</p>
<pre class="line-numbers language-none"><code class="language-none">comments:
  # Up to two comments system, the first will be shown as default
  # Choose: Disqus&#x2F;Disqusjs&#x2F;Livere&#x2F;Gitalk&#x2F;Valine&#x2F;Waline&#x2F;Utterances&#x2F;Facebook Comments&#x2F;Twikoo
  use:
  - Valine
  - Livere
  # - Disqus
  text: true # Display the comment name next to the button
  # lazyload: The comment system will be load when comment element enters the browser&#39;s viewport.
  # If you set it to true, the comment count will be invalid
  lazyload: false
  count: true # Display comment count in post&#39;s top_img
  card_post_count: true # Display comment count in Home Page<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h3><p>使用了hexo-generator-search，注意hexo c并清除浏览器缓存。</p>
<h3 id="分析系统"><a href="#分析系统" class="headerlink" title="分析系统"></a>分析系统</h3><p>目前配置了百度分析以及谷歌分析，谷歌分析的跟踪 ID获取方法见：</p>
<p><a target="_blank" rel="noopener" href="https://git.mrhao.xyz/blog/2020/04/25/GoogleAnalytics/">https://git.mrhao.xyz/blog/2020/04/25/GoogleAnalytics/</a></p>
<p><a target="_blank" rel="noopener" href="https://iamlay.com/2020/06/27/HexoGoogleAnalytics/">https://iamlay.com/2020/06/27/HexoGoogleAnalytics/</a></p>
<h3 id="搜索引擎收录"><a href="#搜索引擎收录" class="headerlink" title="搜索引擎收录"></a>搜索引擎收录</h3><p>参考资料如下：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/cjh0613/hexo-submit-urls-to-search-engine">https://github.com/cjh0613/hexo-submit-urls-to-search-engine</a></p>
<p><a target="_blank" rel="noopener" href="https://cjh0613.com/20200603HexoSubmitUrlsToSearchEngine.html">https://cjh0613.com/20200603HexoSubmitUrlsToSearchEngine.html</a></p>
<p>插件为hexo-submit-urls-to-search-engine</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Doraemonzzz</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.doraemonzzz.com/2021/06/12/2021-6-12-%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/">http://www.doraemonzzz.com/2021/06/12/2021-6-12-%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.doraemonzzz.com" target="_blank">Doraemonzzz</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/">博客配置</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/06/12/2021-6-12-%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E6%95%B4%E7%90%86/"><img class="prev-cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">博客内容整理</div></div></a></div><div class="next-post pull-right"><a href="/2021/06/09/2021-6-9-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E2%80%94%E2%80%94%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%83%E7%89%88%EF%BC%89Wireshark-Lab1-Getting-Started/"><img class="next-cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">计算机网络——自顶向下方法（第七版）Wireshark Lab1:Getting Started</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/06/12/2021-6-12-博客内容整理/" title="博客内容整理"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-12</div><div class="title">博客内容整理</div></div></a></div><div><a href="/2021/06/13/2021-6-13-给Hexo-Butterfly主题首页增加字数总计，阅读时长/" title="给Hexo Butterfly主题首页增加字数总计，阅读时长"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-13</div><div class="title">给Hexo Butterfly主题首页增加字数总计，阅读时长</div></div></a></div><div><a href="/2021/06/19/2021-6-19-Hexo博客不蒜子阅读次数迁移至Leancloud/" title="Hexo博客不蒜子阅读次数迁移至Leancloud"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-19</div><div class="title">Hexo博客不蒜子阅读次数迁移至Leancloud</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Livere</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNDcxOS8xMTI1Ng=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src= "/img/loading.gif" data-lazy-src="https://github.com/Doraemonzzz/md-photo/blob/master/%E5%A4%B4%E5%83%8F.jpg?raw=true" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Doraemonzzz</div><div class="author-info__description">个人博客，主要记录有关机器学习，数学以及计算机科学的笔记</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">621</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">62</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">24</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Doraemonzzz"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Doraemonzzz" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/doraemon_zzz@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/291079982" target="_blank" title="Bilibili"><i class="iconfont icon-bilibili"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title=""><i class="fa fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">暂无公告</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#next"><span class="toc-number">1.</span> <span class="toc-text">next</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#matery"><span class="toc-number">2.</span> <span class="toc-text">matery</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#butterfly"><span class="toc-number">3.</span> <span class="toc-text">butterfly</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%85%E9%85%8D%E7%BD%AE%E9%A1%B9"><span class="toc-number">3.1.</span> <span class="toc-text">待配置项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98"><span class="toc-number">3.2.</span> <span class="toc-text">问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE"><span class="toc-number">3.3.</span> <span class="toc-text">基本配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#menu"><span class="toc-number">3.3.1.</span> <span class="toc-text">menu</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E7%BB%9F%E8%AE%A1"><span class="toc-number">3.3.1.1.</span> <span class="toc-text">博客统计</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%BB%9F%E8%AE%A1"><span class="toc-number">3.3.1.1.1.</span> <span class="toc-text">文章统计</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E6%97%A5%E5%8E%86"><span class="toc-number">3.3.1.1.1.1.</span> <span class="toc-text">文章日历</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%88%86%E7%B1%BB%E9%9B%B7%E8%BE%BE%E5%9B%BE"><span class="toc-number">3.3.1.1.1.2.</span> <span class="toc-text">文章分类雷达图</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E7%BB%9F%E8%AE%A1"><span class="toc-number">3.3.1.1.2.</span> <span class="toc-text">访问统计</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%85%E8%AF%BB%E6%8E%92%E8%A1%8C%E6%A6%9C"><span class="toc-number">3.3.1.2.</span> <span class="toc-text">阅读排行榜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A8%B1%E4%B9%90"><span class="toc-number">3.3.1.3.</span> <span class="toc-text">娱乐</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%94%B5%E5%BD%B1"><span class="toc-number">3.3.1.3.1.</span> <span class="toc-text">电影</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%96%E9%A1%B5%E5%A2%9E%E5%8A%A0%E5%AD%97%E6%95%B0%E6%80%BB%E8%AE%A1%EF%BC%8C%E9%98%85%E8%AF%BB%E6%97%B6%E9%95%BF"><span class="toc-number">3.3.2.</span> <span class="toc-text">首页增加字数总计，阅读时长</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E9%A1%B5%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E6%A0%87%E7%AD%BE"><span class="toc-number">3.3.3.</span> <span class="toc-text">文章页无法显示标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E5%AE%A2%E5%9C%B0%E5%9B%BE"><span class="toc-number">3.3.4.</span> <span class="toc-text">访客地图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F"><span class="toc-number">3.3.5.</span> <span class="toc-text">数学公式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%A4%BE%E4%BA%A4%E5%9B%BE%E6%A0%87"><span class="toc-number">3.3.6.</span> <span class="toc-text">添加社交图标</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#b%E7%AB%99"><span class="toc-number">3.3.6.1.</span> <span class="toc-text">b站</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rss"><span class="toc-number">3.3.6.2.</span> <span class="toc-text">rss</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0meta%E4%BF%A1%E6%81%AF"><span class="toc-number">3.3.7.</span> <span class="toc-text">文章meta信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD%E5%8A%A8%E7%94%BB"><span class="toc-number">3.3.8.</span> <span class="toc-text">加载动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B6%E9%83%A8%E5%9B%BE"><span class="toc-number">3.3.9.</span> <span class="toc-text">顶部图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BE%8E%E5%8C%96%E9%A1%B5%E9%9D%A2"><span class="toc-number">3.3.10.</span> <span class="toc-text">美化页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.3.11.</span> <span class="toc-text">评论系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2"><span class="toc-number">3.3.12.</span> <span class="toc-text">搜索</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E7%B3%BB%E7%BB%9F"><span class="toc-number">3.3.13.</span> <span class="toc-text">分析系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E6%94%B6%E5%BD%95"><span class="toc-number">3.3.14.</span> <span class="toc-text">搜索引擎收录</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/06/24/2021-6-24-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E2%80%94%E2%80%94%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%83%E7%89%88%EF%BC%89Socket-Programming-Assignment-4ProxyServer/" title="计算机网络——自顶向下方法（第七版）Socket Programming Assignment 4:ProxyServer"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机网络——自顶向下方法（第七版）Socket Programming Assignment 4:ProxyServer"/></a><div class="content"><a class="title" href="/2021/06/24/2021-6-24-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E2%80%94%E2%80%94%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%83%E7%89%88%EF%BC%89Socket-Programming-Assignment-4ProxyServer/" title="计算机网络——自顶向下方法（第七版）Socket Programming Assignment 4:ProxyServer">计算机网络——自顶向下方法（第七版）Socket Programming Assignment 4:ProxyServer</a><time datetime="2021-06-24T15:59:00.000Z" title="发表于 2021-06-24 23:59:00">2021-06-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/06/22/2021-6-22-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E2%80%94%E2%80%94%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%83%E7%89%88%EF%BC%89Socket-Programming-Assignment-3SMTP/" title="计算机网络——自顶向下方法（第七版）Socket Programming Assignment 3:SMTP"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机网络——自顶向下方法（第七版）Socket Programming Assignment 3:SMTP"/></a><div class="content"><a class="title" href="/2021/06/22/2021-6-22-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E2%80%94%E2%80%94%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%83%E7%89%88%EF%BC%89Socket-Programming-Assignment-3SMTP/" title="计算机网络——自顶向下方法（第七版）Socket Programming Assignment 3:SMTP">计算机网络——自顶向下方法（第七版）Socket Programming Assignment 3:SMTP</a><time datetime="2021-06-22T15:51:00.000Z" title="发表于 2021-06-22 23:51:00">2021-06-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/06/22/2021-6-22-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E2%80%94%E2%80%94%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%83%E7%89%88%EF%BC%89Socket-Programming-Assignment-2UDPpinger/" title="计算机网络——自顶向下方法（第七版）Socket Programming Assignment 2:UDPpinger"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机网络——自顶向下方法（第七版）Socket Programming Assignment 2:UDPpinger"/></a><div class="content"><a class="title" href="/2021/06/22/2021-6-22-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E2%80%94%E2%80%94%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%83%E7%89%88%EF%BC%89Socket-Programming-Assignment-2UDPpinger/" title="计算机网络——自顶向下方法（第七版）Socket Programming Assignment 2:UDPpinger">计算机网络——自顶向下方法（第七版）Socket Programming Assignment 2:UDPpinger</a><time datetime="2021-06-22T15:21:00.000Z" title="发表于 2021-06-22 23:21:00">2021-06-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/06/22/2021-6-22-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E2%80%94%E2%80%94%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%83%E7%89%88%EF%BC%89Socket-Programming-Assignment-1WebServer/" title="计算机网络——自顶向下方法（第七版）Socket Programming Assignment 1:WebServer"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机网络——自顶向下方法（第七版）Socket Programming Assignment 1:WebServer"/></a><div class="content"><a class="title" href="/2021/06/22/2021-6-22-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E2%80%94%E2%80%94%E8%87%AA%E9%A1%B6%E5%90%91%E4%B8%8B%E6%96%B9%E6%B3%95%EF%BC%88%E7%AC%AC%E4%B8%83%E7%89%88%EF%BC%89Socket-Programming-Assignment-1WebServer/" title="计算机网络——自顶向下方法（第七版）Socket Programming Assignment 1:WebServer">计算机网络——自顶向下方法（第七版）Socket Programming Assignment 1:WebServer</a><time datetime="2021-06-22T14:44:00.000Z" title="发表于 2021-06-22 22:44:00">2021-06-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/06/21/2021-6-21-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E9%80%A0%E5%92%8C%E8%A7%A3%E9%87%8A(SICP)-%E7%AC%AC4%E7%AB%A0-%E4%B9%A0%E9%A2%98%E8%A7%A3%E6%9E%90-Part4/" title="计算机程序的构造和解释(SICP) 第4章 习题解析 Part4"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机程序的构造和解释(SICP) 第4章 习题解析 Part4"/></a><div class="content"><a class="title" href="/2021/06/21/2021-6-21-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E9%80%A0%E5%92%8C%E8%A7%A3%E9%87%8A(SICP)-%E7%AC%AC4%E7%AB%A0-%E4%B9%A0%E9%A2%98%E8%A7%A3%E6%9E%90-Part4/" title="计算机程序的构造和解释(SICP) 第4章 习题解析 Part4">计算机程序的构造和解释(SICP) 第4章 习题解析 Part4</a><time datetime="2021-06-21T01:54:00.000Z" title="发表于 2021-06-21 09:54:00">2021-06-21</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2021 By Doraemonzzz</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'IpnmxCW9CvYWIXbol5QXsegX-MdYXbMMI',
      appKey: 'w57DVCdbxcyB1TYYagMIMJIU',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: true
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Valine' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>