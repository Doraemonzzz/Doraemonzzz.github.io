<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>CS50 Introduction to Artificial Intelligence with Python Lecture 4 | Doraemonzzz</title><meta name="keywords" content="CS50"><meta name="author" content="Doraemonzzz"><meta name="copyright" content="Doraemonzzz"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第四讲的主题是Optimization，这里总结第四讲以及第四次作业。 课程地址：https:&#x2F;&#x2F;cs50.harvard.edu&#x2F;ai&#x2F; 备注：图片均来自课程课件。">
<meta property="og:type" content="article">
<meta property="og:title" content="CS50 Introduction to Artificial Intelligence with Python Lecture 4">
<meta property="og:url" content="http://www.doraemonzzz.com/2020/04/24/CS50%20Introduction%20to%20Artificial%20Intelligence%20with%20Python%20Lecture%204/index.html">
<meta property="og:site_name" content="Doraemonzzz">
<meta property="og:description" content="第四讲的主题是Optimization，这里总结第四讲以及第四次作业。 课程地址：https:&#x2F;&#x2F;cs50.harvard.edu&#x2F;ai&#x2F; 备注：图片均来自课程课件。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg">
<meta property="article:published_time" content="2020-04-24T08:37:28.000Z">
<meta property="article:modified_time" content="2020-04-27T08:28:29.808Z">
<meta property="article:author" content="Doraemonzzz">
<meta property="article:tag" content="CS50">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg"><link rel="shortcut icon" href="https://github.com/Doraemonzzz/md-photo/blob/master/%E5%A4%B4%E5%83%8F.jpg?raw=true"><link rel="canonical" href="http://www.doraemonzzz.com/2020/04/24/CS50%20Introduction%20to%20Artificial%20Intelligence%20with%20Python%20Lecture%204/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6f00f37f957f0608abb8c571105456f0";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-G-RE4B1LKRZD"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-G-RE4B1LKRZD');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"距离上次更新已经","messageNext":"天了，文章内容可能已经过时。"},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isanchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'CS50 Introduction to Artificial Intelligence with Python Lecture 4',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2020-04-27 16:28:29'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><link rel="stylesheet" href="/css/bilibili.css" media="defer" onload="this.media='all'"><meta name="google-site-verification" content="c4v-NmuUZRgl3cvtg9GKswryK1YLaPztd_5M-df5VNI" /><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="Doraemonzzz" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src= "/img/loading.gif" data-lazy-src="https://github.com/Doraemonzzz/md-photo/blob/master/%E5%A4%B4%E5%83%8F.jpg?raw=true" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">678</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">70</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">27</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-chart-pie"></i><span> 博客统计</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/charts/"><i class="fa-fw far fa-chart-bar"></i><span> 文章统计</span></a></li><li><a class="site-page child" href="/census/"><i class="fa-fw fas fa-chart-area"></i><span> 访问统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/top/"><i class="fa-fw fab fa-hotjar"></i><span> 阅读排行榜</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Doraemonzzz</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-chart-pie"></i><span> 博客统计</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/charts/"><i class="fa-fw far fa-chart-bar"></i><span> 文章统计</span></a></li><li><a class="site-page child" href="/census/"><i class="fa-fw fas fa-chart-area"></i><span> 访问统计</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/top/"><i class="fa-fw fab fa-hotjar"></i><span> 阅读排行榜</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">CS50 Introduction to Artificial Intelligence with Python Lecture 4</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-04-24T08:37:28.000Z" title="发表于 2020-04-24 16:37:28">2020-04-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2020-04-27T08:28:29.808Z" title="更新于 2020-04-27 16:28:29">2020-04-27</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/AI/">AI</a></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/CS50/">CS50</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>9分钟</span></span><span class="post-meta-separator">|</span><span class="leancloud_visitors" id="/2020/04/24/CS50%20Introduction%20to%20Artificial%20Intelligence%20with%20Python%20Lecture%204/" data-flag-title="CS50 Introduction to Artificial Intelligence with Python Lecture 4"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span class="leancloud-visitors-count"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/2020/04/24/CS50%20Introduction%20to%20Artificial%20Intelligence%20with%20Python%20Lecture%204/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/2020/04/24/CS50%20Introduction%20to%20Artificial%20Intelligence%20with%20Python%20Lecture%204/" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>第四讲的主题是Optimization，这里总结第四讲以及第四次作业。</p>
<p>课程地址：<a target="_blank" rel="noopener" href="https://cs50.harvard.edu/ai/">https://cs50.harvard.edu/ai/</a></p>
<p>备注：图片均来自课程课件。</p>
<span id="more"></span>
<h4 id="Optimization"><a href="#Optimization" class="headerlink" title="Optimization"></a>Optimization</h4><p>从选择集合内选择最佳选择。</p>
<h4 id="Hill-Climbing"><a href="#Hill-Climbing" class="headerlink" title="Hill Climbing"></a>Hill Climbing</h4><p>爬山法的思路是查看当前状态的相邻节点，如果比当前状态更好，则将当前状态更新为相邻节点，否则直接返回当前节点；伪代码如下：</p>
<pre class="line-numbers language-none"><code class="language-none">function HILL-CLIMB(problem):
    current &#x3D; initial state of problem
    repeat:
        neighbor &#x3D; highest valued neighbor of current
        if neighbor not better than current:
    		return current
    	current &#x3D; neighbor<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="Hill-Climbing-Variants"><a href="#Hill-Climbing-Variants" class="headerlink" title="Hill Climbing Variants"></a>Hill Climbing Variants</h4><div class="table-container">
<table>
<thead>
<tr>
<th>变量</th>
<th>定义</th>
</tr>
</thead>
<tbody>
<tr>
<td>steepest-ascent</td>
<td>选择价值最高的邻居</td>
</tr>
<tr>
<td>stochastic</td>
<td>从较高价值的邻居中随机选择</td>
</tr>
<tr>
<td>first-choice</td>
<td>选择第一个高价值邻居</td>
</tr>
<tr>
<td>random-restart</td>
<td>进行多次爬山</td>
</tr>
<tr>
<td>local beam search</td>
<td>选择$k$个价值最高的邻居</td>
</tr>
</tbody>
</table>
</div>
<h4 id="Simulated-Annealing-模拟退火"><a href="#Simulated-Annealing-模拟退火" class="headerlink" title="Simulated Annealing(模拟退火)"></a>Simulated Annealing(模拟退火)</h4><ul>
<li>早期，较高的“温度”：更可能接受比当前状态更差的邻居</li>
<li>之后，降低“温度”：接受比当前状态更差的邻居的可能性较小</li>
</ul>
<p>伪代码如下：</p>
<pre class="line-numbers language-none"><code class="language-none">function SIMULATED-ANNEALING(problem, max):
    current &#x3D; initial state of problem
        for t &#x3D; 1 to max:
            T &#x3D; TEMPERATURE(t)
            neighbor &#x3D; random neighbor of current
            ΔE &#x3D; how much better neighbor is than current
            if ΔE &gt; 0:
            	current &#x3D; neighbor
            with probability e^(ΔE&#x2F;T) set current &#x3D; neighbor
    return current<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="Linear-Programming"><a href="#Linear-Programming" class="headerlink" title="Linear Programming"></a>Linear Programming</h4><ul>
<li>最小化目标函数$\mathbf{c}_{1} \mathbf{x}_{1}+\mathbf{c}_{2} \mathbf{x}_{2}+\ldots+\mathbf{c}_{\mathbf{n}} \mathbf{x}_{\mathbf{n}}$</li>
<li>约束为$\mathbf{a}_{1} \mathbf{x}_{1}+\mathbf{a}_{2} \mathbf{x}_{2}+\ldots+\mathbf{a}_{\mathbf{n}} \mathbf{x}_{\mathbf{n}} \leq \mathbf{b}$</li>
</ul>
<p>解决方法一般有两种：</p>
<ul>
<li>单纯形</li>
<li>内点法</li>
</ul>
<p>这里主要介绍了如何使用相应的库函数，没有介绍具体原理。</p>
<h4 id="Constraint-Satisfaction"><a href="#Constraint-Satisfaction" class="headerlink" title="Constraint Satisfaction"></a>Constraint Satisfaction</h4><p>考虑安排考试日期的问题：</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://github.com/Doraemonzzz/md-photo/blob/master/CS50AI/Optimization/2020042401.jpg?raw=true" alt=""></p>
<p>这里规定一个人不能在同一天安排两门考试，将上述关系用图表示，其中节点表示课程考试，两个节点相邻表示对应的课程考试不能安排在同一天：</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://github.com/Doraemonzzz/md-photo/blob/master/CS50AI/Optimization/2020042402.jpg?raw=true" alt=""></p>
<h4 id="Constraint-Satisfaction-Problem"><a href="#Constraint-Satisfaction-Problem" class="headerlink" title="Constraint Satisfaction Problem"></a>Constraint Satisfaction Problem</h4><ul>
<li>变量集合$\left\{\mathrm{X}_{1}, \mathrm{X}_{2}, \ldots, \mathrm{X}_{\mathrm{n}}\right\}$</li>
<li>每个变量的可选集$\left\{\mathrm{D}_{1}, \mathrm{D}_{2}, \ldots, \mathrm{D}_{\mathrm{n}}\right\}$</li>
<li>约束集合$\mathbf{C}$</li>
</ul>
<p>具体例子如下：</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://github.com/Doraemonzzz/md-photo/blob/master/CS50AI/Optimization/2020042403.jpg?raw=true" alt=""></p>
<p><img src= "/img/loading.gif" data-lazy-src="https://github.com/Doraemonzzz/md-photo/blob/master/CS50AI/Optimization/2020042404.jpg?raw=true" alt=""></p>
<h4 id="hard-constraints-and-soft-constraints"><a href="#hard-constraints-and-soft-constraints" class="headerlink" title="hard constraints and soft constraints"></a>hard constraints and soft constraints</h4><ul>
<li>hard constraints：必须满足的约束</li>
<li>soft constraints：表达了一些概念，即哪些解比其他解更好</li>
</ul>
<h4 id="unary-constraint-and-binary-constraint"><a href="#unary-constraint-and-binary-constraint" class="headerlink" title="unary constraint and binary constraint"></a>unary constraint and binary constraint</h4><ul>
<li>unary constraint：$\{A \neq M o n d a y\}$</li>
<li>binary constraint：$\{A \neq B\}$</li>
</ul>
<h4 id="node-consistency"><a href="#node-consistency" class="headerlink" title="node consistency"></a>node consistency</h4><p>当变量域中的所有值都满足变量的一元约束时称为node consistency</p>
<h4 id="arc-consistency"><a href="#arc-consistency" class="headerlink" title="arc consistency"></a>arc consistency</h4><p>当变量域中的所有值都满足变量的二元约束时称为arc consistency。</p>
<p>为了使$X$与$Y$保持arc consistency，从$X$的域中删除元素，直到$X$的每个选择都可以选择$Y$的域中某个元素。</p>
<p>伪代码如下：</p>
<pre class="line-numbers language-none"><code class="language-none">function REVISE(csp, X, Y):
    revised &#x3D; false
    for x in X.domain:
        if no y in Y.domain satisfies constraint for (X, Y):
        	delete x from X.domain
        	revised &#x3D; true
    return revised<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>上述代码是对$X,Y$操作，使其满足arc consistency，并且如果我们进行了修改则返回True，否则返回False。</p>
<p>完整图上的算法如下：</p>
<pre class="line-numbers language-none"><code class="language-none">function AC-3(csp):
    queue &#x3D; all arcs in csp
    while queue non-empty:
        (X, Y) &#x3D; DEQUEUE(queue)
        if REVISE(csp, X, Y):
            if size of X.domain &#x3D;&#x3D; 0:
            	return false
            for each Z in X.neighbors - &#123;Y&#125;:
            	ENQUEUE(queue, (Z, X))
    return true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>其中</p>
<pre class="line-numbers language-none"><code class="language-none">for each Z in X.neighbors - &#123;Y&#125;:
	ENQUEUE(queue, (Z, X))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>是因为对X做了修改，所以要对其邻居重新进行操作。</p>
<h4 id="CSPs-as-Search-Problems"><a href="#CSPs-as-Search-Problems" class="headerlink" title="CSPs as Search Problems"></a>CSPs as Search Problems</h4><ul>
<li>初始状态：empty assignment（无变量）</li>
<li>操作：给assignment添加$\{\text {variable}=\text {value}\}$</li>
<li>转移模型：显示添加assignment如何更改assignment</li>
<li>目标测试：检查所有分配的变量是否都满足约束</li>
<li>路径成本函数：所有路径具有相同的成本</li>
</ul>
<h4 id="Backtracking-Search"><a href="#Backtracking-Search" class="headerlink" title="Backtracking Search"></a>Backtracking Search</h4><p>可以利用回溯法进行搜索，找到满足约束的分配。</p>
<pre class="line-numbers language-none"><code class="language-none">function BACKTRACK(assignment, csp):
    if assignment complete: return assignment
    var &#x3D; SELECT-UNASSIGNED-VAR(assignment, csp)
    for value in DOMAIN-VALUES(var, assignment, csp):
        if value consistent with assignment:
            add &#123;var &#x3D; value&#125; to assignment
            result &#x3D; BACKTRACK(assignment, csp)
            if result ≠ failure: return result
        remove &#123;var &#x3D; value&#125; from assignment
    return failure<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>可以将推理和回溯法结合，得到如下算法：</p>
<pre class="line-numbers language-none"><code class="language-none">function BACKTRACK(assignment, csp):
    if assignment complete: return assignment
    var &#x3D; SELECT-UNASSIGNED-VAR(assignment, csp)
    for value in DOMAIN-VALUES(var, assignment, csp):
        if value consistent with assignment:
            add &#123;var &#x3D; value&#125; to assignment
            inferences &#x3D; INFERENCE(assignment, csp)
            if inferences ≠ failure: add inferences to assignment
            result &#x3D; BACKTRACK(assignment, csp)
            if result ≠ failure: return result
        remove &#123;var &#x3D; value&#125; and inferences from assignment
    return failure<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这里和回溯法的区别是一边搜索一边推理，可以提高效率。</p>
<h4 id="SELECT-UNASSIGNED-VAR"><a href="#SELECT-UNASSIGNED-VAR" class="headerlink" title="SELECT-UNASSIGNED-VAR"></a>SELECT-UNASSIGNED-VAR</h4><ul>
<li>最小剩余值（MRV）启发式选择：选择具有最小域的变量</li>
<li>度启发式选择：选择度最高的变量</li>
</ul>
<h4 id="DOMAIN-VALUES"><a href="#DOMAIN-VALUES" class="headerlink" title="DOMAIN-VALUES"></a>DOMAIN-VALUES</h4><ul>
<li>最小约束值启发式：<ul>
<li>首先尝试约束最少的变量</li>
</ul>
</li>
</ul>
<p>以下图为例</p>
<p><img src= "/img/loading.gif" data-lazy-src="https://github.com/Doraemonzzz/md-photo/blob/master/CS50AI/Optimization/2020042405.jpg?raw=true" alt=""></p>
<p>对于节点C，应该选择Wed，因为选择Wed只会影响2个节点，而Tue会影响3个。</p>
<h3 id="Project"><a href="#Project" class="headerlink" title="Project"></a>Project</h3><h4 id="Crossword"><a href="#Crossword" class="headerlink" title="Crossword"></a>Crossword</h4><p>该项目是填字游戏，基本上就是实现课程中的全部算法：</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">enforce_node_consistency</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token triple-quoted-string string">"""
	Update `self.domains` such that each variable is node-consistent.
	(Remove any values that are inconsistent with a variable's unary
	 constraints; in this case, the length of the word.)
	"""</span>
	<span class="token keyword">for</span> var <span class="token keyword">in</span> self<span class="token punctuation">.</span>domains<span class="token punctuation">:</span>
		words <span class="token operator">=</span> self<span class="token punctuation">.</span>domains<span class="token punctuation">[</span>var<span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">for</span> word <span class="token keyword">in</span> words<span class="token punctuation">:</span>
			<span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span> <span class="token operator">!=</span> var<span class="token punctuation">.</span>length<span class="token punctuation">:</span>
				self<span class="token punctuation">.</span>domains<span class="token punctuation">[</span>var<span class="token punctuation">]</span><span class="token punctuation">.</span>remove<span class="token punctuation">(</span>word<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">revise</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token triple-quoted-string string">"""
	Make variable `x` arc consistent with variable `y`.
	To do so, remove values from `self.domains[x]` for which there is no
	possible corresponding value for `y` in `self.domains[y]`.

	Return True if a revision was made to the domain of `x`; return
	False if no revision was made.
	"""</span>
	overlap <span class="token operator">=</span> self<span class="token punctuation">.</span>crossword<span class="token punctuation">.</span>overlaps<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span>
	<span class="token keyword">if</span> overlap <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> <span class="token boolean">False</span>
	<span class="token comment">#判断是否修改过</span>
	res <span class="token operator">=</span> <span class="token boolean">False</span>
	wordx <span class="token operator">=</span> self<span class="token punctuation">.</span>domains<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> word1 <span class="token keyword">in</span> wordx<span class="token punctuation">:</span>
		<span class="token comment">#判断是否存在</span>
		flag <span class="token operator">=</span> <span class="token boolean">False</span>
		<span class="token keyword">for</span> word2 <span class="token keyword">in</span> self<span class="token punctuation">.</span>domains<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">:</span>
			<span class="token keyword">if</span> word1<span class="token punctuation">[</span>overlap<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> word2<span class="token punctuation">[</span>overlap<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
				flag <span class="token operator">=</span> <span class="token boolean">True</span>
				<span class="token keyword">break</span>
		<span class="token keyword">if</span> flag<span class="token punctuation">:</span>
			res <span class="token operator">=</span> <span class="token boolean">True</span>
		<span class="token keyword">else</span><span class="token punctuation">:</span>
			self<span class="token punctuation">.</span>domains<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>remove<span class="token punctuation">(</span>word1<span class="token punctuation">)</span>
			
	<span class="token keyword">return</span> res

<span class="token keyword">def</span> <span class="token function">ac3</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> arcs<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token triple-quoted-string string">"""
	Update `self.domains` such that each variable is arc consistent.
	If `arcs` is None, begin with initial list of all arcs in the problem.
	Otherwise, use `arcs` as the initial list of arcs to make consistent.

	Return True if arc consistency is enforced and no domains are empty;
	return False if one or more domains end up empty.
	"""</span>
	<span class="token keyword">if</span> arcs <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
		arcs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
		<span class="token keyword">for</span> x <span class="token keyword">in</span> self<span class="token punctuation">.</span>crossword<span class="token punctuation">.</span>variables<span class="token punctuation">:</span>
			<span class="token keyword">for</span> y <span class="token keyword">in</span> self<span class="token punctuation">.</span>crossword<span class="token punctuation">.</span>variables<span class="token punctuation">:</span>
				<span class="token keyword">if</span> x <span class="token operator">!=</span> y<span class="token punctuation">:</span>
					arcs<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span>
	
	<span class="token keyword">while</span> <span class="token builtin">len</span><span class="token punctuation">(</span>arcs<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>
		<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">=</span> arcs<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> self<span class="token punctuation">.</span>revise<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
			<span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>domains<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
				<span class="token keyword">return</span> <span class="token boolean">False</span>
			<span class="token keyword">for</span> z <span class="token keyword">in</span> self<span class="token punctuation">.</span>crossword<span class="token punctuation">.</span>neighbors<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
				<span class="token keyword">if</span> z <span class="token operator">!=</span> y<span class="token punctuation">:</span>
					arcs<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>z<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">)</span>
	
	<span class="token keyword">return</span> <span class="token boolean">True</span>
	

<span class="token keyword">def</span> <span class="token function">assignment_complete</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> assignment<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token triple-quoted-string string">"""
	Return True if `assignment` is complete (i.e., assigns a value to each
	crossword variable); return False otherwise.
	"""</span>
	<span class="token keyword">return</span> creator<span class="token punctuation">.</span>crossword<span class="token punctuation">.</span>variables <span class="token operator">==</span> <span class="token builtin">set</span><span class="token punctuation">(</span>assignment<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">consistent_helper</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> assignment<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token comment">#判断variable是否consistent</span>
	overlap <span class="token operator">=</span> self<span class="token punctuation">.</span>crossword<span class="token punctuation">.</span>overlaps<span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span>
	<span class="token keyword">if</span> overlap <span class="token operator">==</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> <span class="token boolean">True</span>
	
	word1 <span class="token operator">=</span> assignment<span class="token punctuation">[</span>x<span class="token punctuation">]</span>
	word2 <span class="token operator">=</span> assignment<span class="token punctuation">[</span>y<span class="token punctuation">]</span>
	
	<span class="token keyword">return</span> word1<span class="token punctuation">[</span>overlap<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> word2<span class="token punctuation">[</span>overlap<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

<span class="token keyword">def</span> <span class="token function">consistent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> assignment<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token triple-quoted-string string">"""
	Return True if `assignment` is consistent (i.e., words fit in crossword
	puzzle without conflicting characters); return False otherwise.
	"""</span>
	<span class="token keyword">for</span> x <span class="token keyword">in</span> assignment<span class="token punctuation">:</span>
		<span class="token keyword">for</span> y <span class="token keyword">in</span> assignment<span class="token punctuation">:</span>
			<span class="token keyword">if</span> x <span class="token operator">!=</span> y<span class="token punctuation">:</span>
				<span class="token keyword">if</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>consistent_helper<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> assignment<span class="token punctuation">)</span><span class="token punctuation">:</span>
					<span class="token keyword">return</span> <span class="token boolean">False</span>
	<span class="token keyword">return</span> <span class="token boolean">True</span>
	

<span class="token keyword">def</span> <span class="token function">order_domain_values</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> var<span class="token punctuation">,</span> assignment<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token triple-quoted-string string">"""
	Return a list of values in the domain of `var`, in order by
	the number of values they rule out for neighboring variables.
	The first value in the list, for example, should be the one
	that rules out the fewest values among the neighbors of `var`.
	"""</span>
	words <span class="token operator">=</span> self<span class="token punctuation">.</span>domains<span class="token punctuation">[</span>var<span class="token punctuation">]</span>
	neighbors <span class="token operator">=</span> self<span class="token punctuation">.</span>crossword<span class="token punctuation">.</span>neighbors<span class="token punctuation">(</span>var<span class="token punctuation">)</span>
	cnts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
	<span class="token keyword">for</span> word <span class="token keyword">in</span> words<span class="token punctuation">:</span>
		cnt <span class="token operator">=</span> <span class="token number">0</span>
		<span class="token keyword">for</span> neighbor <span class="token keyword">in</span> neighbors<span class="token punctuation">:</span>
			<span class="token keyword">if</span> neighbor <span class="token keyword">not</span> <span class="token keyword">in</span> assignment <span class="token keyword">and</span> word <span class="token keyword">in</span> self<span class="token punctuation">.</span>domains<span class="token punctuation">[</span>neighbor<span class="token punctuation">]</span><span class="token punctuation">:</span>
				cnt <span class="token operator">+=</span> <span class="token number">1</span>
		cnts<span class="token punctuation">.</span>append<span class="token punctuation">(</span>cnt<span class="token punctuation">)</span>
	tmp <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>words<span class="token punctuation">,</span> cnts<span class="token punctuation">)</span><span class="token punctuation">)</span>
	tmp<span class="token punctuation">.</span>sort<span class="token punctuation">(</span>key<span class="token operator">=</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token operator">-</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
	
	<span class="token keyword">return</span> <span class="token punctuation">[</span>word<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> word <span class="token keyword">in</span> tmp<span class="token punctuation">]</span>

<span class="token keyword">def</span> <span class="token function">select_unassigned_variable</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> assignment<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token triple-quoted-string string">"""
	Return an unassigned variable not already part of `assignment`.
	Choose the variable with the minimum number of remaining values
	in its domain. If there is a tie, choose the variable with the highest
	degree. If there is a tie, any of the tied variables are acceptable
	return values.
	"""</span>
	variable <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>crossword<span class="token punctuation">.</span>variables <span class="token operator">-</span> <span class="token builtin">set</span><span class="token punctuation">(</span>assignment<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	num_remain <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>domains<span class="token punctuation">[</span>var<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> var <span class="token keyword">in</span> variable<span class="token punctuation">]</span>
	degree <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>crossword<span class="token punctuation">.</span>neighbors<span class="token punctuation">(</span>var<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">for</span> var <span class="token keyword">in</span> variable<span class="token punctuation">]</span>
	tmp <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>variable<span class="token punctuation">,</span> num_remain<span class="token punctuation">,</span> degree<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">def</span> <span class="token function">cmp</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
			<span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> y<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
				<span class="token keyword">return</span> <span class="token number">1</span>
			<span class="token keyword">else</span><span class="token punctuation">:</span>
				<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
		<span class="token keyword">else</span><span class="token punctuation">:</span>
			<span class="token keyword">if</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> y<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
				<span class="token keyword">return</span> <span class="token number">1</span>
			<span class="token keyword">elif</span> x<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">></span> y<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
				<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
			<span class="token keyword">else</span><span class="token punctuation">:</span>
				<span class="token keyword">return</span> <span class="token number">0</span>
			
	<span class="token builtin">sorted</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> key<span class="token operator">=</span>functools<span class="token punctuation">.</span>cmp_to_key<span class="token punctuation">(</span><span class="token builtin">cmp</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	
	<span class="token keyword">return</span> tmp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
	

<span class="token keyword">def</span> <span class="token function">backtrack</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> assignment<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token triple-quoted-string string">"""
	Using Backtracking Search, take as input a partial assignment for the
	crossword and return a complete assignment if possible to do so.

	`assignment` is a mapping from variables (keys) to words (values).

	If no assignment is possible, return None.
	"""</span>
	<span class="token keyword">if</span> self<span class="token punctuation">.</span>assignment_complete<span class="token punctuation">(</span>assignment<span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> assignment
	var <span class="token operator">=</span> self<span class="token punctuation">.</span>select_unassigned_variable<span class="token punctuation">(</span>assignment<span class="token punctuation">)</span>
	<span class="token keyword">for</span> value <span class="token keyword">in</span> self<span class="token punctuation">.</span>order_domain_values<span class="token punctuation">(</span>var<span class="token punctuation">,</span> assignment<span class="token punctuation">)</span><span class="token punctuation">:</span>
		assignment<span class="token punctuation">[</span>var<span class="token punctuation">]</span> <span class="token operator">=</span> value
		<span class="token keyword">if</span> self<span class="token punctuation">.</span>consistent<span class="token punctuation">(</span>assignment<span class="token punctuation">)</span><span class="token punctuation">:</span>
			result <span class="token operator">=</span> self<span class="token punctuation">.</span>backtrack<span class="token punctuation">(</span>assignment<span class="token punctuation">)</span>
			<span class="token keyword">if</span> result <span class="token operator">!=</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
				<span class="token keyword">return</span> result
		assignment<span class="token punctuation">.</span>pop<span class="token punctuation">(</span>var<span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token boolean">None</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Doraemonzzz</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://www.doraemonzzz.com/2020/04/24/CS50%20Introduction%20to%20Artificial%20Intelligence%20with%20Python%20Lecture%204/">http://www.doraemonzzz.com/2020/04/24/CS50%20Introduction%20to%20Artificial%20Intelligence%20with%20Python%20Lecture%204/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.doraemonzzz.com" target="_blank">Doraemonzzz</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/CS50/">CS50</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/04/27/David%20silver%20%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0%20Lecture%207/"><img class="prev-cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">David silver 强化学习 Lecture 7</div></div></a></div><div class="next-post pull-right"><a href="/2020/04/24/CS50%20Introduction%20to%20Artificial%20Intelligence%20with%20Python%20Lecture%203/"><img class="next-cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">CS50 Introduction to Artificial Intelligence with Python Lecture 3</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2020/04/18/CS50 Introduction to Artificial Intelligence with Python Lecture 2/" title="CS50 Introduction to Artificial Intelligence with Python Lecture 2"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-04-18</div><div class="title">CS50 Introduction to Artificial Intelligence with Python Lecture 2</div></div></a></div><div><a href="/2020/04/10/CS50 Introduction to Artificial Intelligence with Python Lecture 1/" title="CS50 Introduction to Artificial Intelligence with Python Lecture 1"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-04-10</div><div class="title">CS50 Introduction to Artificial Intelligence with Python Lecture 1</div></div></a></div><div><a href="/2020/04/24/CS50 Introduction to Artificial Intelligence with Python Lecture 3/" title="CS50 Introduction to Artificial Intelligence with Python Lecture 3"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-04-24</div><div class="title">CS50 Introduction to Artificial Intelligence with Python Lecture 3</div></div></a></div><div><a href="/2020/05/06/CS50 Introduction to Artificial Intelligence with Python Lecture 6/" title="CS50 Introduction to Artificial Intelligence with Python Lecture 6"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-05-06</div><div class="title">CS50 Introduction to Artificial Intelligence with Python Lecture 6</div></div></a></div><div><a href="/2020/04/29/CS50 Introduction to Artificial Intelligence with Python Lecture 5/" title="CS50 Introduction to Artificial Intelligence with Python Lecture 5"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-04-29</div><div class="title">CS50 Introduction to Artificial Intelligence with Python Lecture 5</div></div></a></div><div><a href="/2020/05/06/CS50 Introduction to Artificial Intelligence with Python Lecture 7/" title="CS50 Introduction to Artificial Intelligence with Python Lecture 7"><img class="cover" src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-05-06</div><div class="title">CS50 Introduction to Artificial Intelligence with Python Lecture 7</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment">Livere</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div><div id="lv-container" data-id="city" data-uid="MTAyMC8zNDcxOS8xMTI1Ng=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src= "/img/loading.gif" data-lazy-src="https://github.com/Doraemonzzz/md-photo/blob/master/%E5%A4%B4%E5%83%8F.jpg?raw=true" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Doraemonzzz</div><div class="author-info__description">个人博客，主要记录有关机器学习，数学以及计算机科学的笔记</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">678</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">70</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">27</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Doraemonzzz"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Doraemonzzz" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/doraemon_zzz@163.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/291079982" target="_blank" title="Bilibili"><i class="iconfont icon-bilibili"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title=""><i class="fa fa-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">暂无公告</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#Optimization"><span class="toc-number">1.</span> <span class="toc-text">Optimization</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hill-Climbing"><span class="toc-number">2.</span> <span class="toc-text">Hill Climbing</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Hill-Climbing-Variants"><span class="toc-number">3.</span> <span class="toc-text">Hill Climbing Variants</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Simulated-Annealing-%E6%A8%A1%E6%8B%9F%E9%80%80%E7%81%AB"><span class="toc-number">4.</span> <span class="toc-text">Simulated Annealing(模拟退火)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linear-Programming"><span class="toc-number">5.</span> <span class="toc-text">Linear Programming</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Constraint-Satisfaction"><span class="toc-number">6.</span> <span class="toc-text">Constraint Satisfaction</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Constraint-Satisfaction-Problem"><span class="toc-number">7.</span> <span class="toc-text">Constraint Satisfaction Problem</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hard-constraints-and-soft-constraints"><span class="toc-number">8.</span> <span class="toc-text">hard constraints and soft constraints</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#unary-constraint-and-binary-constraint"><span class="toc-number">9.</span> <span class="toc-text">unary constraint and binary constraint</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#node-consistency"><span class="toc-number">10.</span> <span class="toc-text">node consistency</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#arc-consistency"><span class="toc-number">11.</span> <span class="toc-text">arc consistency</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CSPs-as-Search-Problems"><span class="toc-number">12.</span> <span class="toc-text">CSPs as Search Problems</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Backtracking-Search"><span class="toc-number">13.</span> <span class="toc-text">Backtracking Search</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SELECT-UNASSIGNED-VAR"><span class="toc-number">14.</span> <span class="toc-text">SELECT-UNASSIGNED-VAR</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DOMAIN-VALUES"><span class="toc-number">15.</span> <span class="toc-text">DOMAIN-VALUES</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Project"><span class="toc-number"></span> <span class="toc-text">Project</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Crossword"><span class="toc-number">1.</span> <span class="toc-text">Crossword</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/12/27/2021-12-27-CS144-Lab2/" title="CS144 Lab2"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CS144 Lab2"/></a><div class="content"><a class="title" href="/2021/12/27/2021-12-27-CS144-Lab2/" title="CS144 Lab2">CS144 Lab2</a><time datetime="2021-12-27T14:57:00.000Z" title="发表于 2021-12-27 22:57:00">2021-12-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/27/2021-12-27-CS144-Lab2%E7%BF%BB%E8%AF%91/" title="CS144 Lab2翻译"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CS144 Lab2翻译"/></a><div class="content"><a class="title" href="/2021/12/27/2021-12-27-CS144-Lab2%E7%BF%BB%E8%AF%91/" title="CS144 Lab2翻译">CS144 Lab2翻译</a><time datetime="2021-12-27T14:50:00.000Z" title="发表于 2021-12-27 22:50:00">2021-12-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/21/2021-12-21-MIT-6.S081-Operating-System-Enginerring-Lab5-Lazy-allocation/" title="MIT 6.S081 Operating System Enginerring Lab5 Lazy allocation"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MIT 6.S081 Operating System Enginerring Lab5 Lazy allocation"/></a><div class="content"><a class="title" href="/2021/12/21/2021-12-21-MIT-6.S081-Operating-System-Enginerring-Lab5-Lazy-allocation/" title="MIT 6.S081 Operating System Enginerring Lab5 Lazy allocation">MIT 6.S081 Operating System Enginerring Lab5 Lazy allocation</a><time datetime="2021-12-21T15:21:00.000Z" title="发表于 2021-12-21 23:21:00">2021-12-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/21/2021-12-21-MIT-6.S081-Operating-System-Enginerring-Lab4-Traps/" title="MIT 6.S081 Operating System Enginerring Lab4 Traps"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MIT 6.S081 Operating System Enginerring Lab4 Traps"/></a><div class="content"><a class="title" href="/2021/12/21/2021-12-21-MIT-6.S081-Operating-System-Enginerring-Lab4-Traps/" title="MIT 6.S081 Operating System Enginerring Lab4 Traps">MIT 6.S081 Operating System Enginerring Lab4 Traps</a><time datetime="2021-12-21T15:16:00.000Z" title="发表于 2021-12-21 23:16:00">2021-12-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/12/2021-12-12-CS144-Lab1/" title="CS144 Lab1"><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CS144 Lab1"/></a><div class="content"><a class="title" href="/2021/12/12/2021-12-12-CS144-Lab1/" title="CS144 Lab1">CS144 Lab1</a><time datetime="2021-12-12T08:20:00.000Z" title="发表于 2021-12-12 16:20:00">2021-12-12</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2021 By Doraemonzzz</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.25
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'IpnmxCW9CvYWIXbol5QXsegX-MdYXbMMI',
      appKey: 'w57DVCdbxcyB1TYYagMIMJIU',
      placeholder: 'Please leave your footprints',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'en',
      recordIP: false,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: "",
      enableQQ: false,
      path: window.location.pathname,
      requiredFields: ["nick,mail"],
      visitor: true
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Valine' === 'Livere' || !false) {
  if (false) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>